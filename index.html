<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Â∑•Âú∞ÊñΩÂ∑•ÁÆ°ÁêÜÁ≥ªÁµ±</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft JhengHei', Arial, sans-serif;
            background: linear-gradient(135deg, #FF6B35 0%, #F7931E 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #FF6B35 0%, #F7931E 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 28px;
            margin-bottom: 10px;
        }

        .header p {
            opacity: 0.9;
            font-size: 16px;
        }

        .tabs {
            display: flex;
            background: #f8f9fa;
            border-bottom: 2px solid #e0e0e0;
        }

        .tab {
            flex: 1;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            background: #f8f9fa;
            border: none;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .tab.active {
            background: white;
            color: #FF6B35;
            border-bottom: 3px solid #FF6B35;
        }

        .tab:hover {
            background: #e9ecef;
        }

        .tab-content {
            display: none;
            padding: 40px;
        }

        .tab-content.active {
            display: block;
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
            font-size: 16px;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s ease;
            font-family: inherit;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #FF6B35;
            box-shadow: 0 0 0 3px rgba(255, 107, 53, 0.1);
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .form-section {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 30px;
            border-left: 4px solid #FF6B35;
        }

        .form-section h3 {
            color: #FF6B35;
            margin-bottom: 20px;
            font-size: 18px;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 5px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #FF6B35 0%, #F7931E 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(255, 107, 53, 0.3);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #2196F3 0%, #1976D2 100%);
            color: white;
        }

        .btn-success {
            background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
            color: white;
        }

        .btn-danger {
            background: linear-gradient(135deg, #f44336 0%, #d32f2f 100%);
            color: white;
        }

        .btn-warning {
            background: linear-gradient(135deg, #ff9800 0%, #f57c00 100%);
            color: white;
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            font-size: 14px;
        }

        .data-table th,
        .data-table td {
            padding: 10px 8px;
            text-align: left;
            border-bottom: 1px solid #e0e0e0;
        }

        .data-table th {
            background: #f8f9fa;
            font-weight: 600;
            color: #333;
            position: sticky;
            top: 0;
            font-size: 13px;
        }

        .data-table tr:hover {
            background: #f8f9fa;
        }

        .action-buttons {
            display: flex;
            gap: 5px;
            flex-wrap: wrap;
        }

        .action-buttons .btn {
            padding: 6px 12px;
            font-size: 12px;
            margin: 2px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stats-card {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            text-align: center;
            border-left: 4px solid #FF6B35;
        }

        .stats-number {
            font-size: 28px;
            font-weight: bold;
            color: #FF6B35;
            margin-bottom: 10px;
        }

        .stats-label {
            color: #666;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .search-filter-bar {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            align-items: center;
            flex-wrap: wrap;
        }

        .search-box, .filter-select {
            padding: 10px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 25px;
            font-size: 14px;
        }

        .search-box {
            min-width: 300px;
            flex: 1;
        }

        .filter-select {
            min-width: 150px;
        }

        .search-box:focus, .filter-select:focus {
            outline: none;
            border-color: #FF6B35;
        }

        .alert {
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            display: none;
        }

        .alert-success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .alert-danger {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .table-container {
            overflow-x: auto;
            max-height: 600px;
            overflow-y: auto;
        }

        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: #666;
        }

        .material-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 10px;
            border: 2px solid #e0e0e0;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .material-item input {
            border: 1px solid #ddd;
            padding: 8px;
            border-radius: 4px;
            margin: 0;
        }

        .material-item .remove-btn {
            background: #f44336;
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
        }

        .add-material-btn {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            margin-bottom: 15px;
        }

        .date-today {
            background: #FF6B35;
            color: white;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 12px;
            margin-left: 10px;
        }

        @media (max-width: 768px) {
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .tabs {
                flex-direction: column;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }

            .search-filter-bar {
                flex-direction: column;
                align-items: stretch;
            }

            .search-box {
                min-width: auto;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üèóÔ∏è Â∑•Âú∞ÊñΩÂ∑•ÁÆ°ÁêÜÁ≥ªÁµ±</h1>
            <p>Ë®òÈåÑÊØèÊó•ÊñΩÂ∑•ÈÄ≤Â∫¶„ÄÅ‰∫∫ÂäõÈÖçÁΩÆËàáÊùêÊñôÁÆ°ÁêÜ</p>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="switchTab('daily')">üìù ÊØèÊó•ÊñΩÂ∑•Ë®òÈåÑ</button>
            <button class="tab" onclick="switchTab('manage')">üìã ÊñΩÂ∑•Êï∏ÊìöÁÆ°ÁêÜ</button>
            <button class="tab" onclick="switchTab('stats')">üìà ÈÄ≤Â∫¶Áµ±Ë®àÂàÜÊûê</button>
        </div>

        <!-- ÊØèÊó•ÊñΩÂ∑•Ë®òÈåÑÈ†ÅÈù¢ -->
        <div id="daily-tab" class="tab-content active">
            <form id="constructionForm">
                <!-- Âü∫Êú¨Ë≥áË®äÂçÄÂüü -->
                <div class="form-section">
                    <h3>üóìÔ∏è Âü∫Êú¨Ë≥áË®ä</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="projectName">Â∑•Á®ãÂêçÁ®± *</label>
                            <input type="text" id="projectName" name="projectName" placeholder="Ë´ãËº∏ÂÖ•Â∑•Á®ãÂêçÁ®±" required>
                        </div>
                        <div class="form-group">
                            <label for="date">ÊñΩÂ∑•Êó•Êúü *</label>
                            <input type="date" id="date" name="date" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="weather">Â§©Ê∞£ÁãÄÊ≥Å</label>
                            <select id="weather" name="weather">
                                <option value="">Ë´ãÈÅ∏ÊìáÂ§©Ê∞£</option>
                                <option value="Êô¥Â§©">‚òÄÔ∏è Êô¥Â§©</option>
                                <option value="Â§öÈõ≤">‚õÖ Â§öÈõ≤</option>
                                <option value="Èô∞Â§©">‚òÅÔ∏è Èô∞Â§©</option>
                                <option value="Â∞èÈõ®">üå¶Ô∏è Â∞èÈõ®</option>
                                <option value="Â§ßÈõ®">üåßÔ∏è Â§ßÈõ®</option>
                                <option value="È¢±È¢®">üåÄ È¢±È¢®</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="supervisor">Áõ£Â∑•‰∫∫Âì°</label>
                            <input type="text" id="supervisor" name="supervisor" placeholder="Ë´ãËº∏ÂÖ•Áõ£Â∑•ÂßìÂêç">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="shift">ÊñΩÂ∑•Áè≠Ê¨°</label>
                            <select id="shift" name="shift">
                                <option value="">Ë´ãÈÅ∏ÊìáÁè≠Ê¨°</option>
                                <option value="Êó•Áè≠">üåÖ Êó•Áè≠ (08:00-17:00)</option>
                                <option value="Â§úÁè≠">üåô Â§úÁè≠ (20:00-05:00)</option>
                                <option value="ÂÖ®Êó•Áè≠">‚è∞ ÂÖ®Êó•Áè≠</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="location">ÊñΩÂ∑•Âú∞Èªû</label>
                            <input type="text" id="location" name="location" placeholder="Ë´ãËº∏ÂÖ•ÊñΩÂ∑•Âú∞Èªû">
                        </div>
                    </div>
                </div>

                <!-- ÊñΩÂ∑•È†ÖÁõÆÂçÄÂüü -->
                <div class="form-section">
                    <h3>üî® ÊñΩÂ∑•È†ÖÁõÆËàáÈÄ≤Â∫¶</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="workItem">ÊñΩÂ∑•È†ÖÁõÆ *</label>
                            <select id="workItem" name="workItem" required>
                                <option value="">Ë´ãÈÅ∏ÊìáÊñΩÂ∑•È†ÖÁõÆ</option>
                                <option value="Âü∫Á§éÂ∑•Á®ã">üèóÔ∏è Âü∫Á§éÂ∑•Á®ã</option>
                                <option value="ÈãºÁ≠ãÂ∑•Á®ã">üîó ÈãºÁ≠ãÂ∑•Á®ã</option>
                                <option value="Ê∑∑ÂáùÂúüÂ∑•Á®ã">üß± Ê∑∑ÂáùÂúüÂ∑•Á®ã</option>
                                <option value="Ê®°ÊùøÂ∑•Á®ã">üìê Ê®°ÊùøÂ∑•Á®ã</option>
                                <option value="Á†åÁ£öÂ∑•Á®ã">üß± Á†åÁ£öÂ∑•Á®ã</option>
                                <option value="Ê∞¥ÈõªÂ∑•Á®ã">‚ö° Ê∞¥ÈõªÂ∑•Á®ã</option>
                                <option value="Ê≤πÊºÜÂ∑•Á®ã">üé® Ê≤πÊºÜÂ∑•Á®ã</option>
                                <option value="Ë£ù‰øÆÂ∑•Á®ã">üîß Ë£ù‰øÆÂ∑•Á®ã</option>
                                <option value="ÂÖ∂‰ªñ">‚ùì ÂÖ∂‰ªñ</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="workDetail">ÊñΩÂ∑•Á¥∞È†Ö</label>
                            <input type="text" id="workDetail" name="workDetail" placeholder="‰æãÂ¶ÇÔºö‰∏ÄÊ®ìÊü±Â≠êÊæÜÁΩÆ">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="completedQuantity">ÂÆåÊàêÊï∏Èáè *</label>
                            <input type="number" id="completedQuantity" name="completedQuantity" min="0" step="0.1" placeholder="Ë´ãËº∏ÂÖ•ÂÆåÊàêÊï∏Èáè" required>
                        </div>
                        <div class="form-group">
                            <label for="unit">ÂñÆ‰Ωç</label>
                            <select id="unit" name="unit">
                                <option value="">Ë´ãÈÅ∏ÊìáÂñÆ‰Ωç</option>
                                <option value="Á´ãÊñπÁ±≥">Á´ãÊñπÁ±≥ (m¬≥)</option>
                                <option value="Âπ≥ÊñπÁ±≥">Âπ≥ÊñπÁ±≥ (m¬≤)</option>
                                <option value="ÂÖ¨Â∞∫">ÂÖ¨Â∞∫ (m)</option>
                                <option value="ÊîØ">ÊîØ</option>
                                <option value="ÁµÑ">ÁµÑ</option>
                                <option value="Âºè">Âºè</option>
                                <option value="Êâπ">Êâπ</option>
                                <option value="È†Ö">È†Ö</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- ‰∫∫ÂäõÈÖçÁΩÆÂçÄÂüü -->
                <div class="form-section">
                    <h3>üë∑ ‰∫∫ÂäõÈÖçÁΩÆ</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="totalWorkers">Á∏ΩÂá∫Â∑•‰∫∫Êï∏ *</label>
                            <input type="number" id="totalWorkers" name="totalWorkers" min="0" placeholder="Ë´ãËº∏ÂÖ•Á∏Ω‰∫∫Êï∏" required>
                        </div>
                        <div class="form-group">
                            <label for="skilledWorkers">ÊäÄË°ìÂ∑•‰∫∫Êï∏</label>
                            <input type="number" id="skilledWorkers" name="skilledWorkers" min="0" placeholder="ÊäÄË°ìÂ∑•‰∫∫Êï∏">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="laborWorkers">ÊôÆÂ∑•‰∫∫Êï∏</label>
                            <input type="number" id="laborWorkers" name="laborWorkers" min="0" placeholder="ÊôÆÂ∑•‰∫∫Êï∏">
                        </div>
                        <div class="form-group">
                            <label for="overtimeHours">Âä†Áè≠ÊôÇÊï∏</label>
                            <input type="number" id="overtimeHours" name="overtimeHours" min="0" step="0.5" placeholder="Âä†Áè≠ÊôÇÊï∏">
                        </div>
                    </div>
                </div>

               <!-- ÊùêÊñôÈÄ≤Â†¥ÂçÄÂüü -->
                <div class="form-section">
                  <h3>üì¶ ÊùêÊñôÈÄ≤Â†¥Ë®òÈåÑ</h3>
                  <button type="button" class="add-material-btn" onclick="addMaterialItem()">+ Êñ∞Â¢ûÊùêÊñô</button>
                  <div id="materialsList">
                    <div class="material-item">
                      <input type="text" placeholder="ÊùêÊñôÂêçÁ®±" name="materialName[]">
                      <input type="number" placeholder="Êï∏Èáè" name="materialQuantity[]" min="0" step="0.1">
                      <input type="text" placeholder="ÂñÆ‰Ωç" name="materialUnit[]">
                      <input type="text" placeholder="‰æõÊáâÂïÜ" name="materialSupplier[]">
                      <button type="button" class="remove-btn" onclick="removeMaterialItem(this)">Âà™Èô§</button>
                    </div>
                  </div>
                </div>
                
                <style>
                  /* ÊùêÊñôÂçÄÂ°äÁöÑÊ®£Âºè */
                  .material-item {
                    display: flex;
                    flex-wrap: wrap; /* ÂÖÅË®±ÊèõË°å */
                    gap: 8px;
                    margin-bottom: 12px;
                  }
                
                  .material-item input {
                    flex: 1 1 100%; /* È†êË®≠ÊâãÊ©ü‰∏ÄË°å‰∏ÄÂÄã */
                    padding: 8px;
                    font-size: 16px;
                    box-sizing: border-box;
                  }
                
                  .remove-btn {
                    flex: 1 1 100%; /* È†êË®≠ÊâãÊ©üËÆìÂà™Èô§ÊåâÈàïÁç®Á´ã‰∏ÄË°å */
                    padding: 8px;
                    font-size: 14px;
                    background: #f44336;
                    color: #fff;
                    border: none;
                    border-radius: 6px;
                  }
                
                  /* Âπ≥Êùø/ÈõªËÖ¶ÊâçÊ©´ÂêëÊéíÁâà */
                  @media (min-width: 768px) {
                    .material-item input[name="materialName[]"] {
                      flex: 2;
                    }
                    .material-item input[name="materialQuantity[]"] {
                      flex: 1;
                    }
                    .material-item input[name="materialUnit[]"] {
                      flex: 1;
                    }
                    .material-item input[name="materialSupplier[]"] {
                      flex: 1.5;
                    }
                    .remove-btn {
                      flex: 0 0 auto; /* ‰∏çË¶ÅÊíêÊªø */
                    }
                  }
                </style>


                <!-- ÂÇôË®ªÂçÄÂüü -->
                <div class="form-section">
                    <h3>üìù ÂÇôË®ªË™™Êòé</h3>
                    <div class="form-group">
                        <label for="notes">ÊñΩÂ∑•ÂÇôË®ª</label>
                        <textarea id="notes" name="notes" rows="4" placeholder="Ë´ãËº∏ÂÖ•ÊñΩÂ∑•ÁãÄÊ≥Å„ÄÅÂïèÈ°åÊàñÁâπÊÆä‰∫ãÈ†Ö..."></textarea>
                    </div>
                </div>

                <div style="text-align: center;">
                    <button type="button" class="btn btn-primary" onclick="addConstructionData()">üíæ ÂÑ≤Â≠òÊñΩÂ∑•Ë®òÈåÑ</button>
                    <button type="button" class="btn btn-secondary" onclick="clearForm()">üóëÔ∏è Ê∏ÖÁ©∫Ë°®ÂñÆ</button>
                </div>
            </form>

            <div id="alert-container"></div>
        </div>

        <!-- ÊñΩÂ∑•Êï∏ÊìöÁÆ°ÁêÜÈ†ÅÈù¢ -->
        <div id="manage-tab" class="tab-content">
            <div class="search-filter-bar">
                <input type="text" class="search-box" id="searchInput" placeholder="üîç ÊêúÂ∞ãÊñΩÂ∑•È†ÖÁõÆ„ÄÅÁõ£Â∑•‰∫∫Âì°..." onkeyup="searchData()">
                <select class="filter-select" id="itemFilter" onchange="filterData()">
                    <option value="">ÂÖ®ÈÉ®È†ÖÁõÆ</option>
                </select>
                <select class="filter-select" id="dateFilter" onchange="filterData()">
                    <option value="">ÂÖ®ÈÉ®Êó•Êúü</option>
                    <option value="today">‰ªäÊó•</option>
                    <option value="week">Êú¨ÈÄ±</option>
                    <option value="month">Êú¨Êúà</option>
                </select>
                <div>
                    <button class="btn btn-success" onclick="exportToExcel()">üìä ÂåØÂá∫Excel</button>
                    <button class="btn btn-danger" onclick="clearAllData()">üóëÔ∏è Ê∏ÖÁ©∫Ë≥áÊñô</button>
                </div>
            </div>

            <div class="table-container">
                <table class="data-table" id="dataTable">
                    <thead>
                        <tr>
                            <th>Á∑®Ëôü</th>
                            <th>Â∑•Á®ãÂêçÁ®±</th>
                            <th>Êó•Êúü</th>
                            <th>ÊñΩÂ∑•È†ÖÁõÆ</th>
                            <th>ÂÆåÊàêÊï∏Èáè</th>
                            <th>Âá∫Â∑•‰∫∫Êï∏</th>
                            <th>Â§©Ê∞£</th>
                            <th>Áõ£Â∑•</th>
                            <th>ÊùêÊñôÈÄ≤Â†¥</th>
                            <th>Ë®òÈåÑÊôÇÈñì</th>
                            <th>Êìç‰Ωú</th>
                        </tr>
                    </thead>
                    <tbody id="dataTableBody">
                    </tbody>
                </table>
                
                <div id="emptyState" class="empty-state">
                    <div style="font-size: 48px;">üèóÔ∏è</div>
                    <h3>Â∞öÊú™ÊúâÊñΩÂ∑•Ë®òÈåÑ</h3>
                    <p>ÈªûÊìä„ÄåÊØèÊó•ÊñΩÂ∑•Ë®òÈåÑ„ÄçÈñãÂßãË®òÈåÑÁ¨¨‰∏ÄÁ≠ÜÊñΩÂ∑•Ë≥áÊñô</p>
                </div>
            </div>
        </div>

        <!-- ÈÄ≤Â∫¶Áµ±Ë®àÂàÜÊûêÈ†ÅÈù¢ -->
        <div id="stats-tab" class="tab-content">
            <div class="stats-grid" id="statsGrid">
                <div class="stats-card">
                    <div class="stats-number" id="totalRecords">0</div>
                    <div class="stats-label">Á∏ΩÊñΩÂ∑•Ë®òÈåÑ</div>
                </div>
                <div class="stats-card">
                    <div class="stats-number" id="totalWorkers">0</div>
                    <div class="stats-label">Á¥ØË®àÂá∫Â∑•‰∫∫Êï∏</div>
                </div>
                <div class="stats-card">
                    <div class="stats-number" id="avgWorkersPerDay">0</div>
                    <div class="stats-label">Êó•ÂùáÂá∫Â∑•‰∫∫Êï∏</div>
                </div>
                <div class="stats-card">
                    <div class="stats-number" id="totalMaterials">0</div>
                    <div class="stats-label">ÊùêÊñôÈÄ≤Â†¥ÊâπÊ¨°</div>
                </div>
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-top: 30px;">
                <div style="background: white; padding: 30px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                    <h3 style="margin-bottom: 20px; color: #333;">üìà ÊñΩÂ∑•È†ÖÁõÆÁµ±Ë®à</h3>
                    <div id="workItemStats"></div>
                </div>

                <div style="background: white; padding: 30px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                    <h3 style="margin-bottom: 20px; color: #333;">üå§Ô∏è Â§©Ê∞£ÂΩ±ÈüøÂàÜÊûê</h3>
                    <div id="weatherStats"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Ë≥áÊñôÂÑ≤Â≠òÂú®localStorage‰∏≠
        let constructionData = JSON.parse(localStorage.getItem('constructionData') || '[]');
        let currentEditId = null;

        // ÂàùÂßãÂåñ
        document.addEventListener('DOMContentLoaded', function() {
            // Ë®≠ÂÆö‰ªäÊó•Êó•ÊúüÁÇ∫È†êË®≠ÂÄº
            document.getElementById('date').value = new Date().toISOString().split('T')[0];
            
            loadAllData();
            updateStats();
            updateFilters();
        });

        // ÂàáÊèõÂàÜÈ†Å
        function switchTab(tabName) {
            const tabs = document.querySelectorAll('.tab-content');
            tabs.forEach(tab => tab.classList.remove('active'));
            
            const tabButtons = document.querySelectorAll('.tab');
            tabButtons.forEach(btn => btn.classList.remove('active'));
            
            document.getElementById(tabName + '-tab').classList.add('active');
            event.target.classList.add('active');
            
            if (tabName === 'stats') {
                updateStats();
            }
        }

        // Êñ∞Â¢ûÊùêÊñôÈ†ÖÁõÆ
        function addMaterialItem() {
            const materialsList = document.getElementById('materialsList');
            const materialItem = document.createElement('div');
            materialItem.className = 'material-item';
            materialItem.innerHTML = `
                <input type="text" placeholder="ÊùêÊñôÂêçÁ®±" name="materialName[]" style="flex: 2;">
                <input type="number" placeholder="Êï∏Èáè" name="materialQuantity[]" min="0" step="0.1" style="flex: 1;">
                <input type="text" placeholder="ÂñÆ‰Ωç" name="materialUnit[]" style="flex: 1;">
                <input type="text" placeholder="‰æõÊáâÂïÜ" name="materialSupplier[]" style="flex: 1.5;">
                <button type="button" class="remove-btn" onclick="removeMaterialItem(this)">Âà™Èô§</button>
            `;
            materialsList.appendChild(materialItem);
        }

        // ÁßªÈô§ÊùêÊñôÈ†ÖÁõÆ
        function removeMaterialItem(button) {
            const materialsList = document.getElementById('materialsList');
            if (materialsList.children.length > 1) {
                button.parentElement.remove();
            } else {
                showAlert('Ëá≥Â∞ëÈúÄË¶Å‰øùÁïô‰∏ÄÂÄãÊùêÊñôÈ†ÖÁõÆÔºÅ', 'danger');
            }
        }

        // Êñ∞Â¢ûÊñΩÂ∑•Ë≥áÊñô
        function addConstructionData() {
            const form = document.getElementById('constructionForm');
            
            // È©óË≠âÂøÖÂ°´Ê¨Ñ‰Ωç
            if (!form.projectName.value || !form.date.value || !form.workItem.value || !form.completedQuantity.value || !form.totalWorkers.value) {
                showAlert('Ë´ãÂ°´ÂØ´ÊâÄÊúâÂøÖÂ°´Ê¨Ñ‰ΩçÔºàÊ®ôÁ§∫*ËÄÖÔºâÔºÅ', 'danger');
                return;
            }

            // Êî∂ÈõÜÊùêÊñôË≥áÊñô
            const materialNames = form.querySelectorAll('input[name="materialName[]"]');
            const materialQuantities = form.querySelectorAll('input[name="materialQuantity[]"]');
            const materialUnits = form.querySelectorAll('input[name="materialUnit[]"]');
            const materialSuppliers = form.querySelectorAll('input[name="materialSupplier[]"]');
            
            const materials = [];
            for (let i = 0; i < materialNames.length; i++) {
                if (materialNames[i].value.trim()) {
                    materials.push({
                        name: materialNames[i].value,
                        quantity: materialQuantities[i].value || 0,
                        unit: materialUnits[i].value || '',
                        supplier: materialSuppliers[i].value || ''
                    });
                }
            }

            const data = {
                id: currentEditId || Date.now().toString(),
                projectName: form.projectName.value,
                date: form.date.value,
                weather: form.weather.value,
                supervisor: form.supervisor.value,
                shift: form.shift.value,
                location: form.location.value,
                workItem: form.workItem.value,
                workDetail: form.workDetail.value,
                completedQuantity: parseFloat(form.completedQuantity.value),
                unit: form.unit.value,
                totalWorkers: parseInt(form.totalWorkers.value),
                skilledWorkers: parseInt(form.skilledWorkers.value) || 0,
                laborWorkers: parseInt(form.laborWorkers.value) || 0,
                overtimeHours: parseFloat(form.overtimeHours.value) || 0,
                materials: materials,
                notes: form.notes.value,
                createTime: new Date().toLocaleString('zh-TW')
            };

            if (currentEditId) {
                const index = constructionData.findIndex(item => item.id === currentEditId);
                constructionData[index] = data;
                showAlert('ÊñΩÂ∑•Ë®òÈåÑÊõ¥Êñ∞ÊàêÂäüÔºÅ', 'success');
                currentEditId = null;
            } else {
                constructionData.push(data);
                showAlert('ÊñΩÂ∑•Ë®òÈåÑÂÑ≤Â≠òÊàêÂäüÔºÅ', 'success');
            }

            localStorage.setItem('constructionData', JSON.stringify(constructionData));
            
            loadAllData();
            updateStats();
            updateFilters();
            clearForm();
        }

        // ËºâÂÖ•ÊâÄÊúâË≥áÊñô
        function loadAllData() {
            const tbody = document.getElementById('dataTableBody');
            const emptyState = document.getElementById('emptyState');
            
            if (constructionData.length === 0) {
                tbody.innerHTML = '';
                emptyState.style.display = 'block';
                return;
            }
            
            emptyState.style.display = 'none';
            
            tbody.innerHTML = constructionData.map((item, index) => `
                <tr>
                    <td>${index + 1}</td>
                    <td>${item.date}</td>
                    <td>${item.workItem}${item.workDetail ? '<br><small>' + item.workDetail + '</small>' : ''}</td>
                    <td>${item.completedQuantity} ${item.unit || ''}</td>
                    <td>${item.totalWorkers}‰∫∫${item.overtimeHours ? '<br><small>Âä†Áè≠' + item.overtimeHours + 'h</small>' : ''}</td>
                    <td>${item.weather || '-'}</td>
                    <td>${item.supervisor || '-'}</td>
                    <td>${item.materials.length}È†Ö</td>
                    <td>${item.createTime}</td>
                    <td>
                        <div class="action-buttons">
                            <button class="btn btn-secondary" onclick="viewDetails('${item.id}')">Ë©≥ÊÉÖ</button>
                            <button class="btn btn-danger" onclick="deleteData('${item.id}')">Âà™Èô§</button>
                        </div>
                    </td>
                </tr>
            `).join('');
        }

        // Êü•ÁúãË©≥ÊÉÖ
        function viewDetails(id) {
            const item = constructionData.find(data => data.id === id);
            if (!item) return;

            let materialsInfo = '';
            if (item.materials && item.materials.length > 0) {
                materialsInfo = item.materials.map(m => 
                    `${m.name}: ${m.quantity} ${m.unit} (${m.supplier || 'Êú™ÊåáÂÆö‰æõÊáâÂïÜ'})`
                ).join('\n');
            } else {
                materialsInfo = 'ÁÑ°ÊùêÊñôË®òÈåÑ';
            }

            const details = `
Â∑•Á®ãÂêçÁ®±: ${item.projectName || 'Êú™ÊåáÂÆö'}
ÊñΩÂ∑•Êó•Êúü: ${item.date}
ÊñΩÂ∑•Âú∞Èªû: ${item.location || 'Êú™Ë®òÈåÑ'}
Â§©Ê∞£ÁãÄÊ≥Å: ${item.weather || 'Êú™Ë®òÈåÑ'}
Áõ£Â∑•‰∫∫Âì°: ${item.supervisor || 'Êú™ÊåáÂÆö'}
ÊñΩÂ∑•Áè≠Ê¨°: ${item.shift || 'Êú™ÊåáÂÆö'}

ÊñΩÂ∑•È†ÖÁõÆ: ${item.workItem}
ÊñΩÂ∑•Á¥∞È†Ö: ${item.workDetail || 'ÁÑ°'}
ÂÆåÊàêÊï∏Èáè: ${item.completedQuantity} ${item.unit || ''}

‰∫∫ÂäõÈÖçÁΩÆ:
- Á∏ΩÂá∫Â∑•‰∫∫Êï∏: ${item.totalWorkers}‰∫∫
- ÊäÄË°ìÂ∑•‰∫∫: ${item.skilledWorkers || 0}‰∫∫
- ÊôÆÂ∑•: ${item.laborWorkers || 0}‰∫∫
- Âä†Áè≠ÊôÇÊï∏: ${item.overtimeHours || 0}Â∞èÊôÇ

ÊùêÊñôÈÄ≤Â†¥:
${materialsInfo}

ÂÇôË®ª: ${item.notes || 'ÁÑ°'}
            `;

            alert(details);
        }

        // Á∑®ËºØË≥áÊñô
        function editData(id) {
            const item = constructionData.find(data => data.id === id);
            if (!item) return;

            const form = document.getElementById('constructionForm');
            form.projectName.value = item.projectName || '';
            form.date.value = item.date;
            form.weather.value = item.weather || '';
            form.supervisor.value = item.supervisor || '';
            form.shift.value = item.shift || '';
            form.location.value = item.location || '';
            form.workItem.value = item.workItem;
            form.workDetail.value = item.workDetail || '';
            form.completedQuantity.value = item.completedQuantity;
            form.unit.value = item.unit || '';
            form.totalWorkers.value = item.totalWorkers;
            form.skilledWorkers.value = item.skilledWorkers || '';
            form.laborWorkers.value = item.laborWorkers || '';
            form.overtimeHours.value = item.overtimeHours || '';
            form.notes.value = item.notes || '';

            // ËºâÂÖ•ÊùêÊñôË≥áÊñô
            const materialsList = document.getElementById('materialsList');
            materialsList.innerHTML = '';
            
            if (item.materials && item.materials.length > 0) {
                item.materials.forEach(material => {
                    const materialItem = document.createElement('div');
                    materialItem.className = 'material-item';
                    materialItem.innerHTML = `
                        <input type="text" placeholder="ÊùêÊñôÂêçÁ®±" name="materialName[]" value="${material.name}" style="flex: 2;">
                        <input type="number" placeholder="Êï∏Èáè" name="materialQuantity[]" value="${material.quantity}" min="0" step="0.1" style="flex: 1;">
                        <input type="text" placeholder="ÂñÆ‰Ωç" name="materialUnit[]" value="${material.unit}" style="flex: 1;">
                        <input type="text" placeholder="‰æõÊáâÂïÜ" name="materialSupplier[]" value="${material.supplier}" style="flex: 1.5;">
                        <button type="button" class="remove-btn" onclick="removeMaterialItem(this)">Âà™Èô§</button>
                    `;
                    materialsList.appendChild(materialItem);
                });
            } else {
                // Â¶ÇÊûúÊ≤íÊúâÊùêÊñôË®òÈåÑÔºåÊ∑ªÂä†‰∏ÄÂÄãÁ©∫ÁöÑÊùêÊñôÈ†ÖÁõÆ
                addMaterialItem();
            }

            currentEditId = id;
            switchTab('daily');
            
            showAlert('Ë≥áÊñôËºâÂÖ•ÂÆåÊàêÔºå‰øÆÊîπÂæåË´ãÈªûÊìäÂÑ≤Â≠ò', 'success');
        }

        // Âà™Èô§Ë≥áÊñô
        function deleteData(id) {
            if (!confirm('Á¢∫ÂÆöË¶ÅÂà™Èô§ÈÄôÁ≠ÜÊñΩÂ∑•Ë®òÈåÑÂóéÔºü')) return;
            
            constructionData = constructionData.filter(item => item.id !== id);
            localStorage.setItem('constructionData', JSON.stringify(constructionData));
            
            loadAllData();
            updateStats();
            updateFilters();
            showAlert('ÊñΩÂ∑•Ë®òÈåÑÂ∑≤Âà™Èô§', 'success');
        }

        // ÊêúÂ∞ãË≥áÊñô
        function searchData() {
            filterData();
        }

        // ÁØ©ÈÅ∏Ë≥áÊñô
        function filterData() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const itemFilter = document.getElementById('itemFilter').value;
            const dateFilter = document.getElementById('dateFilter').value;
            
            let filteredData = constructionData;

            // ÊñáÂ≠óÊêúÂ∞ã
            if (searchTerm) {
                filteredData = filteredData.filter(item => 
                    (item.projectName && item.projectName.toLowerCase().includes(searchTerm)) ||
                    item.workItem.toLowerCase().includes(searchTerm) ||
                    (item.workDetail && item.workDetail.toLowerCase().includes(searchTerm)) ||
                    (item.supervisor && item.supervisor.toLowerCase().includes(searchTerm)) ||
                    (item.location && item.location.toLowerCase().includes(searchTerm)) ||
                    (item.notes && item.notes.toLowerCase().includes(searchTerm))
                );
            }

            // È†ÖÁõÆÁØ©ÈÅ∏
            if (itemFilter) {
                filteredData = filteredData.filter(item => item.workItem === itemFilter);
            }

            // Êó•ÊúüÁØ©ÈÅ∏
            if (dateFilter) {
                const today = new Date();
                const todayStr = today.toISOString().split('T')[0];
                
                filteredData = filteredData.filter(item => {
                    const itemDate = new Date(item.date);
                    
                    switch(dateFilter) {
                        case 'today':
                            return item.date === todayStr;
                        case 'week':
                            const weekAgo = new Date(today.getTime() - 7 * 24 * 60 * 60 * 1000);
                            return itemDate >= weekAgo && itemDate <= today;
                        case 'month':
                            return itemDate.getMonth() === today.getMonth() && 
                                   itemDate.getFullYear() === today.getFullYear();
                        default:
                            return true;
                    }
                });
            }

            // Êõ¥Êñ∞Ë°®Ê†ºÈ°ØÁ§∫
            const tbody = document.getElementById('dataTableBody');
            tbody.innerHTML = filteredData.map((item, index) => `
                <tr>
                    <td>${index + 1}</td>
                    <td>${item.projectName || '-'}</td>
                    <td>${item.date}</td>
                    <td>${item.workItem}${item.workDetail ? '<br><small>' + item.workDetail + '</small>' : ''}</td>
                    <td>${item.completedQuantity} ${item.unit || ''}</td>
                    <td>${item.totalWorkers}‰∫∫${item.overtimeHours ? '<br><small>Âä†Áè≠' + item.overtimeHours + 'h</small>' : ''}</td>
                    <td>${item.weather || '-'}</td>
                    <td>${item.supervisor || '-'}</td>
                    <td>${item.materials.length}È†Ö</td>
                    <td>${item.createTime}</td>
                    <td>
                        <div class="action-buttons">
                            <button class="btn btn-warning" onclick="editData('${item.id}')">Á∑®ËºØ</button>
                            <button class="btn btn-secondary" onclick="viewDetails('${item.id}')">Ë©≥ÊÉÖ</button>
                            <button class="btn btn-danger" onclick="deleteData('${item.id}')">Âà™Èô§</button>
                        </div>
                    </td>
                </tr>
            `).join('');
        }

        // Êõ¥Êñ∞ÁØ©ÈÅ∏ÈÅ∏È†Ö
        function updateFilters() {
            const itemFilter = document.getElementById('itemFilter');
            const workItems = [...new Set(constructionData.map(item => item.workItem))];
            
            const currentValue = itemFilter.value;
            itemFilter.innerHTML = '<option value="">ÂÖ®ÈÉ®È†ÖÁõÆ</option>';
            
            workItems.forEach(item => {
                const option = document.createElement('option');
                option.value = item;
                option.textContent = item;
                itemFilter.appendChild(option);
            });
            
            itemFilter.value = currentValue;
        }

        // ÂåØÂá∫Âà∞Excel
        function exportToExcel() {
            if (constructionData.length === 0) {
                showAlert('Ê≤íÊúâË≥áÊñôÂèØ‰ª•ÂåØÂá∫ÔºÅ', 'danger');
                return;
            }

            const exportData = [];
            
            constructionData.forEach((item, index) => {
                const baseData = {
                    'Á∑®Ëôü': index + 1,
                    'Â∑•Á®ãÂêçÁ®±': item.projectName || '',
                    'ÊñΩÂ∑•Êó•Êúü': item.date,
                    'ÊñΩÂ∑•Âú∞Èªû': item.location || '',
                    'Â§©Ê∞£ÁãÄÊ≥Å': item.weather || '',
                    'Áõ£Â∑•‰∫∫Âì°': item.supervisor || '',
                    'ÊñΩÂ∑•Áè≠Ê¨°': item.shift || '',
                    'ÊñΩÂ∑•È†ÖÁõÆ': item.workItem,
                    'ÊñΩÂ∑•Á¥∞È†Ö': item.workDetail || '',
                    'ÂÆåÊàêÊï∏Èáè': item.completedQuantity,
                    'ÂñÆ‰Ωç': item.unit || '',
                    'Á∏ΩÂá∫Â∑•‰∫∫Êï∏': item.totalWorkers,
                    'ÊäÄË°ìÂ∑•‰∫∫Êï∏': item.skilledWorkers || 0,
                    'ÊôÆÂ∑•‰∫∫Êï∏': item.laborWorkers || 0,
                    'Âä†Áè≠ÊôÇÊï∏': item.overtimeHours || 0,
                    'ÊùêÊñôÈ†ÖÁõÆÊï∏': item.materials.length,
                    'ÂÇôË®ª': item.notes || '',
                    'Ë®òÈåÑÊôÇÈñì': item.createTime
                };

                exportData.push(baseData);

                // Â¶ÇÊûúÊúâÊùêÊñôË≥áÊñôÔºåÂè¶Â§ñÂª∫Á´ãÊùêÊñôÊòéÁ¥∞Ë°®
                if (item.materials && item.materials.length > 0) {
                    item.materials.forEach(material => {
                        exportData.push({
                            'Á∑®Ëôü': `${index + 1}-ÊùêÊñô`,
                            'ÊñΩÂ∑•Êó•Êúü': item.date,
                            'ÊùêÊñôÂêçÁ®±': material.name,
                            'ÊùêÊñôÊï∏Èáè': material.quantity,
                            'ÊùêÊñôÂñÆ‰Ωç': material.unit,
                            '‰æõÊáâÂïÜ': material.supplier || ''
                        });
                    });
                }
            });

            const wb = XLSX.utils.book_new();
            const ws = XLSX.utils.json_to_sheet(exportData);
            
            // Ë®≠ÂÆöÊ¨Ñ‰ΩçÂØ¨Â∫¶
            const colWidths = [
                {wch: 8}, {wch: 12}, {wch: 10}, {wch: 12}, {wch: 12}, 
                {wch: 15}, {wch: 20}, {wch: 10}, {wch: 8}, {wch: 10},
                {wch: 10}, {wch: 10}, {wch: 10}, {wch: 8}, {wch: 30}, {wch: 18}
            ];
            ws['!cols'] = colWidths;

            XLSX.utils.book_append_sheet(wb, ws, "ÊñΩÂ∑•Ë®òÈåÑ");
            const fileName = `ÊñΩÂ∑•Ë®òÈåÑ_${new Date().toISOString().split('T')[0]}.xlsx`;
            XLSX.writeFile(wb, fileName);
            
            showAlert('ExcelÊ™îÊ°àÂ∑≤ÊàêÂäüÂåØÂá∫ÔºÅ', 'success');
        }

        // Êõ¥Êñ∞Áµ±Ë®àË≥áÊñô
        function updateStats() {
            const totalRecords = constructionData.length;
            const totalWorkers = constructionData.reduce((sum, item) => sum + item.totalWorkers, 0);
            const avgWorkersPerDay = totalRecords > 0 ? Math.round(totalWorkers / totalRecords) : 0;
            const totalMaterials = constructionData.reduce((sum, item) => sum + item.materials.length, 0);

            document.getElementById('totalRecords').textContent = totalRecords;
            document.getElementById('totalWorkers').textContent = totalWorkers;
            document.getElementById('avgWorkersPerDay').textContent = avgWorkersPerDay;
            document.getElementById('totalMaterials').textContent = totalMaterials;

            // Êõ¥Êñ∞È†ÖÁõÆÁµ±Ë®à
            updateWorkItemStats();
            updateWeatherStats();
        }

        // Êõ¥Êñ∞ÊñΩÂ∑•È†ÖÁõÆÁµ±Ë®à
        function updateWorkItemStats() {
            const workItemStats = document.getElementById('workItemStats');
            
            if (constructionData.length === 0) {
                workItemStats.innerHTML = '<p style="text-align: center; color: #666;">Êö´ÁÑ°ÊñΩÂ∑•Êï∏Êìö</p>';
                return;
            }

            const itemCounts = {};
            constructionData.forEach(item => {
                itemCounts[item.workItem] = (itemCounts[item.workItem] || 0) + 1;
            });

            const sortedItems = Object.entries(itemCounts)
                .sort(([,a], [,b]) => b - a)
                .map(([name, count]) => ({
                    name,
                    count,
                    percentage: Math.round((count / constructionData.length) * 100)
                }));

            workItemStats.innerHTML = sortedItems.map(item => `
                <div style="margin-bottom: 15px;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                        <span>${item.name}</span>
                        <span>${item.count} Ê¨° (${item.percentage}%)</span>
                    </div>
                    <div style="background: #e0e0e0; height: 8px; border-radius: 4px;">
                        <div style="background: #FF6B35; height: 8px; width: ${item.percentage}%; border-radius: 4px;"></div>
                    </div>
                </div>
            `).join('');
        }

        // Êõ¥Êñ∞Â§©Ê∞£Áµ±Ë®à
        function updateWeatherStats() {
            const weatherStats = document.getElementById('weatherStats');
            
            const weatherData = constructionData.filter(item => item.weather);
            if (weatherData.length === 0) {
                weatherStats.innerHTML = '<p style="text-align: center; color: #666;">Êö´ÁÑ°Â§©Ê∞£Êï∏Êìö</p>';
                return;
            }

            const weatherCounts = {};
            weatherData.forEach(item => {
                weatherCounts[item.weather] = (weatherCounts[item.weather] || 0) + 1;
            });

            const sortedWeather = Object.entries(weatherCounts)
                .sort(([,a], [,b]) => b - a)
                .map(([name, count]) => ({
                    name,
                    count,
                    percentage: Math.round((count / weatherData.length) * 100)
                }));

            weatherStats.innerHTML = sortedWeather.map(weather => `
                <div style="margin-bottom: 15px;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                        <span>${weather.name}</span>
                        <span>${weather.count} Â§© (${weather.percentage}%)</span>
                    </div>
                    <div style="background: #e0e0e0; height: 8px; border-radius: 4px;">
                        <div style="background: #2196F3; height: 8px; width: ${weather.percentage}%; border-radius: 4px;"></div>
                    </div>
                </div>
            `).join('');
        }

        // Ê∏ÖÁ©∫Ë°®ÂñÆ
        function clearForm() {
            document.getElementById('constructionForm').reset();
            document.getElementById('date').value = new Date().toISOString().split('T')[0];
            currentEditId = null;
            
            // ÈáçÁΩÆÊùêÊñôÂàóË°®
            const materialsList = document.getElementById('materialsList');
            materialsList.innerHTML = `
                <div class="material-item">
                    <input type="text" placeholder="ÊùêÊñôÂêçÁ®±" name="materialName[]" style="flex: 2;">
                    <input type="number" placeholder="Êï∏Èáè" name="materialQuantity[]" min="0" step="0.1" style="flex: 1;">
                    <input type="text" placeholder="ÂñÆ‰Ωç" name="materialUnit[]" style="flex: 1;">
                    <input type="text" placeholder="‰æõÊáâÂïÜ" name="materialSupplier[]" style="flex: 1.5;">
                    <button type="button" class="remove-btn" onclick="removeMaterialItem(this)">Âà™Èô§</button>
                </div>
            `;
        }

        // Ê∏ÖÁ©∫ÊâÄÊúâË≥áÊñô
        function clearAllData() {
            if (!confirm('Á¢∫ÂÆöË¶ÅÊ∏ÖÁ©∫ÊâÄÊúâÊñΩÂ∑•Ë®òÈåÑÂóéÔºüÊ≠§Êìç‰ΩúÁÑ°Ê≥ïÂæ©ÂéüÔºÅ')) return;
            
            constructionData = [];
            localStorage.removeItem('constructionData');
            loadAllData();
            updateStats();
            updateFilters();
            showAlert('ÊâÄÊúâÊñΩÂ∑•Ë®òÈåÑÂ∑≤Ê∏ÖÁ©∫', 'success');
        }

        // È°ØÁ§∫ÊèêÁ§∫Ë®äÊÅØ
        function showAlert(message, type) {
            const alertContainer = document.getElementById('alert-container');
            const alertDiv = document.createElement('div');
            alertDiv.className = `alert alert-${type}`;
            alertDiv.textContent = message;
            
            alertContainer.appendChild(alertDiv);
            alertDiv.style.display = 'block';
            
            setTimeout(() => {
                alertDiv.remove();
            }, 3000);
        }
    </script>
</body>
</html>



