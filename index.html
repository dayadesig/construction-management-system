<!-- é€²åº¦çµ±è¨ˆåˆ†æé é¢ -->
        <div id="stats-tab" class="tab-content">
            <div class="stats-grid" id="statsGrid">
                <div class="stats-card">
                    <div class="stats-number" id="totalRecords">0</div>
                    <div class="stats-label">ç¸½æ–½å·¥è¨˜éŒ„</div>
                </div>
                <div class="stats-card">
                    <div class="stats-number" id="totalWorkers">0</div>
                    <div class="stats-label">ç´¯è¨ˆå‡ºå·¥äººæ•¸</div>
                </div>
                <div class="stats-card">
                    <div class="stats-number" id="avgWorkersPerDay">0</div>
                    <div class="stats-label">æ—¥å‡å‡ºå·¥äººæ•¸</div>
                </div>
                <div class="stats-card">
                    <div class="stats-number" id="totalProjects">0</div>
                    <div class="stats-label">å·¥ç¨‹å°ˆæ¡ˆæ•¸</div>
                </div>
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-top: 30px;">
                <div style="background: white; padding: 30px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                    <h3 style="margin-bottom: 20px; color: #333;">ğŸ“ˆ æ–½å·¥é …ç›®çµ±è¨ˆ</h3>
                    <div id="workItemStats"></div>
                </div>

                <div style="background: white; padding: 30px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                    <h3 style="margin-bottom: 20px; color: #333;">ğŸ—ï¸ å·¥ç¨‹å°ˆæ¡ˆé€²åº¦</h3>
                    <div id="projectStats"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- é€£ç·šç‹€æ…‹æŒ‡ç¤ºå™¨ -->
    <div class="connection-status" id="connectionStatus">
        ğŸ”¥ Firebase å·²é€£ç·š
    </div>

    <script>
        // ğŸ”¥ Firebase è¨­å®š - è«‹æ›¿æ›æˆä½ çš„å°ˆæ¡ˆè¨­å®š
        const firebaseConfig = {
            apiKey: "AIzaSyDxDEFXQdJdxKEcY__sAz2HroXDmtg8EQs",
            authDomain: "construction-management-4ebe2.firebaseapp.com",
            projectId: "construction-management-4ebe2",
            storageBucket: "construction-management-4ebe2.firebasestorage.app",
            messagingSenderId: "255668354731",
            appId: "1:255668354731:web:fcec0c02986b03ed4d41ee",
            measurementId: "G-MZF5XY3XKM"
        };


        const app = initializeApp(firebaseConfig);
  	const auth = getAuth(app);
  	const db = getFirestore(app);

  	console.log("ğŸ”¥ Firebase å·²é€£ç·š");
        

        // å…¨åŸŸè®Šæ•¸
        let currentUser = null;
        let constructionData = [];
        let currentEditId = null;
        let unsubscribe = null;

        // æ‡‰ç”¨ç¨‹å¼åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ğŸ”¥ Firebase åˆå§‹åŒ–æˆåŠŸ');
            console.log('ğŸ”§ Firebase Config:', firebaseConfig.projectId);
            
            // è¨­å®šä»Šæ—¥æ—¥æœŸ
            document.getElementById('date').value = new Date().toISOString().split('T')[0];
            
            // ç›£è½èªè­‰ç‹€æ…‹
            auth.onAuthStateChanged((user) => {
                console.log('ğŸ” èªè­‰ç‹€æ…‹è®Šæ›´:', user ? 'å·²ç™»å…¥' : 'æœªç™»å…¥');
                if (user) {
                    console.log('âœ… ç”¨æˆ¶è³‡è¨Š:', {
                        uid: user.uid,
                        email: user.email,
                        displayName: user.displayName
                    });
                    currentUser = user;
                    showMainApp();
                    loadUserData();
                    startRealtimeListener();
                } else {
                    console.log('âŒ ç”¨æˆ¶æœªç™»å…¥');
                    currentUser = null;
                    showAuthContainer();
                }
            });

            // è¨­å®šè¡¨å–®äº‹ä»¶
            setupFormEvents();
            
            // ç›£è½é€£ç·šç‹€æ…‹
            monitorConnection();
        });

        // è¨­å®šè¡¨å–®äº‹ä»¶
        function setupFormEvents() {
            // ç™»å…¥è¡¨å–®
            document.getElementById('loginForm').addEventListener('submit', async (e) => {
                e.preventDefault();
                await handleLogin();
            });

            // è¨»å†Šè¡¨å–®
            document.getElementById('signupForm').addEventListener('submit', async (e) => {
                e.preventDefault();
                await handleSignup();
            });
        }

        // è™•ç†ç™»å…¥
        async function handleLogin() {
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            const loginBtn = document.getElementById('loginBtn');

            if (!email || !password) {
                showAlert('è«‹å¡«å¯«é›»å­ä¿¡ç®±å’Œå¯†ç¢¼ï¼', 'danger');
                return;
            }

            try {
                loginBtn.disabled = true;
                loginBtn.textContent = 'ç™»å…¥ä¸­...';
                showAuthLoading(true);

                await auth.signInWithEmailAndPassword(email, password);
                showAlert('ç™»å…¥æˆåŠŸï¼', 'success');
                
            } catch (error) {
                console.error('Login error:', error);
                let message = 'ç™»å…¥å¤±æ•—ï¼';
                
                switch (error.code) {
                    case 'auth/user-not-found':
                        message = 'æ‰¾ä¸åˆ°æ­¤å¸³è™Ÿï¼Œè«‹æª¢æŸ¥é›»å­ä¿¡ç®±æˆ–å…ˆè¨»å†Šã€‚';
                        break;
                    case 'auth/wrong-password':
                        message = 'å¯†ç¢¼éŒ¯èª¤ï¼Œè«‹é‡æ–°è¼¸å…¥ã€‚';
                        break;
                    case 'auth/invalid-email':
                        message = 'é›»å­ä¿¡ç®±æ ¼å¼éŒ¯èª¤ã€‚';
                        break;
                    case 'auth/network-request-failed':
                        message = 'ç¶²è·¯é€£ç·šå¤±æ•—ï¼Œè«‹æª¢æŸ¥ç¶²è·¯é€£ç·šã€‚';
                        break;
                    default:
                        message = `ç™»å…¥å¤±æ•—ï¼š${error.message}`;
                }
                
                showAlert(message, 'danger');
            } finally {
                loginBtn.disabled = false;
                loginBtn.textContent = 'ç™»å…¥ç³»çµ±';
                showAuthLoading(false);
            }
        }

        // è™•ç†è¨»å†Š
        async function handleSignup() {
            const name = document.getElementById('signupName').value;
            const email = document.getElementById('signupEmail').value;
            const password = document.getElementById('signupPassword').value;
            const phone = document.getElementById('signupPhone').value;
            const signupBtn = document.getElementById('signupBtn');

            console.log('ğŸ“ é–‹å§‹è¨»å†Šæµç¨‹:', { name, email });

            if (!name || !email || !password) {
                showAlert('è«‹å¡«å¯«å¿…è¦è³‡è¨Šï¼', 'danger');
                return;
            }

            if (password.length < 6) {
                showAlert('å¯†ç¢¼è‡³å°‘éœ€è¦6å€‹å­—å…ƒï¼', 'danger');
                return;
            }

            try {
                signupBtn.disabled = true;
                signupBtn.textContent = 'è¨»å†Šä¸­...';
                showAuthLoading(true);

                console.log('ğŸ” æ­£åœ¨å‰µå»ºç”¨æˆ¶å¸³è™Ÿ...');
                // å‰µå»ºå¸³è™Ÿ
                const userCredential = await auth.createUserWithEmailAndPassword(email, password);
                console.log('âœ… å¸³è™Ÿå‰µå»ºæˆåŠŸ:', userCredential.user.uid);
                
                console.log('ğŸ‘¤ æ­£åœ¨æ›´æ–°ç”¨æˆ¶è³‡æ–™...');
                // æ›´æ–°ä½¿ç”¨è€…è³‡æ–™
                await userCredential.user.updateProfile({
                    displayName: name
                });
                console.log('âœ… ç”¨æˆ¶è³‡æ–™æ›´æ–°æˆåŠŸ');

                console.log('ğŸ’¾ æ­£åœ¨å„²å­˜é¡å¤–è³‡è¨Šåˆ° Firestore...');
                // å„²å­˜é¡å¤–çš„ä½¿ç”¨è€…è³‡è¨Šåˆ° Firestore
                await db.collection('users').add({
                    uid: userCredential.user.uid,
                    name: name,
                    email: email,
                    phone: phone || '',
                    createdAt: firebase.firestore.FieldValue.serverTimestamp()
                });
                console.log('âœ… ç”¨æˆ¶è³‡è¨Šå„²å­˜æˆåŠŸ');

                showAlert('è¨»å†ŠæˆåŠŸï¼æ­¡è¿ä½¿ç”¨å·¥åœ°ç®¡ç†ç³»çµ±ã€‚', 'success');
                console.log('ğŸ‰ è¨»å†Šæµç¨‹å®Œæˆï¼Œç­‰å¾…èªè­‰ç‹€æ…‹è®Šæ›´...');
                
            } catch (error) {
                console.error('âŒ è¨»å†ŠéŒ¯èª¤:', error);
                let message = 'è¨»å†Šå¤±æ•—ï¼';
                
                switch (error.code) {
                    case 'auth/email-already-in-use':
                        message = 'æ­¤é›»å­ä¿¡ç®±å·²è¢«è¨»å†Šï¼Œè«‹ä½¿ç”¨å…¶ä»–ä¿¡ç®±æˆ–ç›´æ¥ç™»å…¥ã€‚';
                        break;
                    case 'auth/invalid-email':
                        message = 'é›»å­ä¿¡ç®±æ ¼å¼éŒ¯èª¤ã€‚';
                        break;
                    case 'auth/weak-password':
                        message = 'å¯†ç¢¼å¼·åº¦å¤ªå¼±ï¼Œè«‹è¨­å®šæ›´è¤‡é›œçš„å¯†ç¢¼ã€‚';
                        break;
                    case 'auth/network-request-failed':
                        message = 'ç¶²è·¯é€£ç·šå¤±æ•—ï¼Œè«‹æª¢æŸ¥ç¶²è·¯é€£ç·šã€‚';
                        break;
                    case 'permission-denied':
                        message = 'è³‡æ–™åº«æ¬Šé™ä¸è¶³ï¼Œè«‹æª¢æŸ¥ Firestore è¦å‰‡è¨­å®šã€‚';
                        break;
                    default:
                        message = `è¨»å†Šå¤±æ•—ï¼š${error.message}`;
                }
                
                showAlert(message, 'danger');
            } finally {
                signupBtn.disabled = false;
                signupBtn.textContent = 'è¨»å†Šå¸³è™Ÿ';
                showAuthLoading(false);
            }
        }

        // ç™»å‡º
        async function logout() {
            try {
                // åœæ­¢å³æ™‚ç›£è½
                if (unsubscribe) {
                    unsubscribe();
                    unsubscribe = null;
                }
                
                await auth.signOut();
                showAlert('å·²å®‰å…¨ç™»å‡ºï¼', 'info');
                
                // æ¸…ç©ºè³‡æ–™
                constructionData = [];
                currentEditId = null;
                
            } catch (error) {
                console.error('Logout error:', error);
                showAlert('ç™»å‡ºå¤±æ•—ï¼', 'danger');
            }
        }

        // é¡¯ç¤ºèªè­‰å®¹å™¨
        function showAuthContainer() {
            document.getElementById('auth-container').style.display = 'block';
            document.getElementById('main-app').style.display = 'none';
            hideConnectionStatus();
        }

        // é¡¯ç¤ºä¸»æ‡‰ç”¨ç¨‹å¼
        function showMainApp() {
            document.getElementById('auth-container').style.display = 'none';
            document.getElementById('main-app').style.display = 'block';
            showConnectionStatus();
        }

        // è¼‰å…¥ä½¿ç”¨è€…è³‡æ–™
        function loadUserData() {
            if (currentUser) {
                document.getElementById('userName').textContent = currentUser.displayName || 'ä½¿ç”¨è€…';
                document.getElementById('userEmail').textContent = currentUser.email;
            }
        }

        // é–‹å§‹å³æ™‚ç›£è½
        function startRealtimeListener() {
            if (!currentUser) return;
            
            showDataLoading(true);
            
            const query = db.collection('construction_records')
                .where('userId', '==', currentUser.uid)
                .orderBy('date', 'desc');
            
            unsubscribe = query.onSnapshot((snapshot) => {
                constructionData = [];
                snapshot.forEach((doc) => {
                    constructionData.push({
                        id: doc.id,
                        ...doc.data()
                    });
                });
                
                console.log('ğŸ“Š è¼‰å…¥äº†', constructionData.length, 'ç­†æ–½å·¥è¨˜éŒ„');
                loadAllData();
                updateStats();
                updateFilters();
                showDataLoading(false);
            }, (error) => {
                console.error('Realtime listener error:', error);
                showAlert('å³æ™‚åŒæ­¥ç™¼ç”ŸéŒ¯èª¤ï¼Œè«‹é‡æ–°æ•´ç†é é¢ã€‚', 'danger');
                showDataLoading(false);
            });
        }

        // å„²å­˜æ–½å·¥è¨˜éŒ„
        async function saveConstructionRecord() {
            if (!currentUser) {
                showAlert('è«‹å…ˆç™»å…¥ï¼', 'danger');
                return;
            }

            const form = document.getElementById('constructionForm');
            const saveBtn = document.getElementById('saveBtn');

            // é©—è­‰å¿…å¡«æ¬„ä½
            if (!form.projectName.value.trim() || !form.date.value || 
                !form.workItem.value || !form.completedQuantity.value || 
                !form.totalWorkers.value) {
                showAlert('è«‹å¡«å¯«æ‰€æœ‰å¿…å¡«æ¬„ä½ï¼ˆæ¨™ç¤º*è€…ï¼‰ï¼', 'danger');
                return;
            }

            // æ”¶é›†ææ–™è³‡æ–™
            const materialNames = form.querySelectorAll('input[name="materialName[]"]');
            const materialQuantities = form.querySelectorAll('input[name="materialQuantity[]"]');
            const materialUnits = form.querySelectorAll('input[name="materialUnit[]"]');
            const materialSuppliers = form.querySelectorAll('input[name="materialSupplier[]"]');
            
            const materials = [];
            for (let i = 0; i < materialNames.length; i++) {
                if (materialNames[i].value.trim()) {
                    materials.push({
                        name: materialNames[i].value,
                        quantity: parseFloat(materialQuantities[i].value) || 0,
                        unit: materialUnits[i].value || '',
                        supplier: materialSuppliers[i].value || ''
                    });
                }
            }

            const recordData = {
                userId: currentUser.uid,
                userEmail: currentUser.email,
                userName: currentUser.displayName || 'æœªçŸ¥ä½¿ç”¨è€…',
                projectName: form.projectName.value,
                projectLocation: form.projectLocation.value || '',
                date: form.date.value,
                weather: form.weather.value || '',
                supervisor: form.supervisor.value || '',
                shift: form.shift.value || '',
                workItem: form.workItem.value,
                workDetail: form.workDetail.value || '',
                completedQuantity: parseFloat(form.completedQuantity.value),
                unit: form.unit.value || '',
                totalWorkers: parseInt(form.totalWorkers.value),
                skilledWorkers: parseInt(form.skilledWorkers.value) || 0,
                laborWorkers: parseInt(form.laborWorkers.value) || 0,
                overtimeHours: parseFloat(form.overtimeHours.value) || 0,
                materials: materials,
                notes: form.notes.value || '',
                createdAt: firebase.firestore.FieldValue.serverTimestamp(),
                updatedAt: firebase.firestore.FieldValue.serverTimestamp()
            };

            try {
                saveBtn.disabled = true;
                saveBtn.innerHTML = 'ğŸ’¾ å„²å­˜ä¸­...';
                setSyncStatus('syncing');

                if (currentEditId) {
                    // æ›´æ–°ç¾æœ‰è¨˜éŒ„
                    await db.collection('construction_records').doc(currentEditId).update({
                        ...recordData,
                        updatedAt: firebase.firestore.FieldValue.serverTimestamp()
                    });
                    showAlert('âœ… æ–½å·¥è¨˜éŒ„æ›´æ–°æˆåŠŸï¼', 'success');
                    currentEditId = null;
                } else {
                    // æ–°å¢è¨˜éŒ„
                    await db.collection('construction_records').add(recordData);
                    showAlert('âœ… æ–½å·¥è¨˜éŒ„å„²å­˜æˆåŠŸï¼', 'success');
                }

                clearForm();
                setSyncStatus('online');

            } catch (error) {
                console.error('Save error:', error);
                let message = 'å„²å­˜å¤±æ•—ï¼';
                
                if (error.code === 'permission-denied') {
                    message = 'æ¬Šé™ä¸è¶³ï¼Œè«‹é‡æ–°ç™»å…¥ã€‚';
                } else if (error.code === 'unavailable') {
                    message = 'ç¶²è·¯é€£ç·šä¸ç©©å®šï¼Œè«‹ç¨å¾Œé‡è©¦ã€‚';
                } else {
                    message = `å„²å­˜å¤±æ•—ï¼š${error.message}`;
                }
                
                showAlert(message, 'danger');
                setSyncStatus('offline');
            } finally {
                saveBtn.disabled = false;
                saveBtn.innerHTML = 'ğŸ’¾ å„²å­˜è‡³é›²ç«¯';
            }
        }

        // è¼‰å…¥æ‰€æœ‰è³‡æ–™åˆ°è¡¨æ ¼
        function loadAllData() {
            const tbody = document.getElementById('dataTableBody');
            const emptyState = document.getElementById('emptyState');
            
            if (constructionData.length === 0) {
                tbody.innerHTML = '';
                emptyState.style.display = 'block';
                return;
            }
            
            emptyState.style.display = 'none';
            
            tbody.innerHTML = constructionData.map((item, index) => `
                <tr>
                    <td>${index + 1}</td>
                    <td>${item.projectName}</td>
                    <td>${item.date}</td>
                    <td>${item.workItem}${item.workDetail ? '<br><small>' + item.workDetail + '</small>' : ''}</td>
                    <td>${item.completedQuantity} ${item.unit || ''}</td>
                    <td>${item.totalWorkers}äºº${item.overtimeHours ? '<br><small>åŠ ç­' + item.overtimeHours + 'h</small>' : ''}</td>
                    <td>${item.weather || '-'}</td>
                    <td>${item.supervisor || '-'}</td>
                    <td>${item.materials ? item.materials.length : 0}é …</td>
                    <td>${formatDate(item.createdAt)}</td>
                    <td>
                        <div class="action-buttons">
                            <button class="btn btn-secondary" onclick="viewDetails('${item.id}')">è©³æƒ…</button>
                            <button class="btn btn-warning" onclick="editData('${item.id}')">ç·¨è¼¯</button>
                            <button class="btn btn-danger" onclick="deleteData('${item.id}')">åˆªé™¤</button>
                        </div>
                    </td>
                </tr>
            `).join('');
        }

        // æ ¼å¼åŒ–æ—¥æœŸ
        function formatDate(timestamp) {
            if (!timestamp) return '-';
            
            let date;
            if (timestamp && timestamp.toDate) {
                // Firestore Timestamp
                date = timestamp.toDate();
            } else if (timestamp instanceof Date) {
                date = timestamp;
            } else {
                date = new Date(timestamp);
            }
            
            return date.toLocaleString('zh-TW');
        }

        // æŸ¥çœ‹è©³æƒ…
        function viewDetails(id) {
            const item = constructionData.find(data => data.id === id);
            if (!item) return;

            let materialsInfo = '';
            if (item.materials && item.materials.length > 0) {
                materialsInfo = item.materials.map(m => 
                    `${m.name}: ${m.quantity} ${m.unit} (${m.supplier || 'æœªæŒ‡å®šä¾›æ‡‰å•†'})`
                ).join('\n');
            } else {
                materialsInfo = 'ç„¡ææ–™è¨˜éŒ„';
            }

            const details = `
å·¥ç¨‹åç¨±: ${item.projectName}
å·¥ç¨‹åœ°é»: ${item.projectLocation || 'æœªæŒ‡å®š'}
æ–½å·¥æ—¥æœŸ: ${item.date}
å¤©æ°£ç‹€æ³: ${item.weather || 'æœªè¨˜éŒ„'}
ç›£å·¥äººå“¡: ${item.supervisor || 'æœªæŒ‡å®š'}
æ–½å·¥ç­æ¬¡: ${item.shift || 'æœªæŒ‡å®š'}

æ–½å·¥é …ç›®: ${item.workItem}
æ–½å·¥ç´°é …: ${item.workDetail || 'ç„¡'}
å®Œæˆæ•¸é‡: ${item.completedQuantity} ${item.unit || ''}

äººåŠ›é…ç½®:
- ç¸½å‡ºå·¥äººæ•¸: ${item.totalWorkers}äºº
- æŠ€è¡“å·¥äºº: ${item.skilledWorkers || 0}äºº
- æ™®å·¥: ${item.laborWorkers || 0}äºº
- åŠ ç­æ™‚æ•¸: ${item.overtimeHours || 0}å°æ™‚

ææ–™é€²å ´:
${materialsInfo}

å‚™è¨»: ${item.notes || 'ç„¡'}

è¨˜éŒ„è€…: ${item.userName || 'æœªçŸ¥'}
å»ºç«‹æ™‚é–“: ${formatDate(item.createdAt)}
            `;

            alert(details);
        }

        // ç·¨è¼¯è³‡æ–™
        function editData(id) {
            const item = constructionData.find(data => data.id === id);
            if (!item) return;

            const form = document.getElementById('constructionForm');
            form.projectName.value = item.projectName || '';
            form.projectLocation.value = item.projectLocation || '';
            form.date.value = item.date;
            form.weather.value = item.weather || '';
            form.supervisor.value = item.supervisor || '';
            form.shift.value = item.shift || '';
            form.workItem.value = item.workItem;
            form.workDetail.value = item.workDetail || '';
            form.completedQuantity.value = item.completedQuantity;
            form.unit.value = item.unit || '';
            form.totalWorkers.value = item.totalWorkers;
            form.skilledWorkers.value = item.skilledWorkers || '';
            form.laborWorkers.value = item.laborWorkers || '';
            form.overtimeHours.value = item.overtimeHours || '';
            form.notes.value = item.notes || '';

            // è¼‰å…¥ææ–™è³‡æ–™
            const materialsList = document.getElementById('materialsList');
            materialsList.innerHTML = '';
            
            if (item.materials && item.materials.length > 0) {
                item.materials.forEach(material => {
                    const materialItem = document.createElement('div');
                    materialItem.className = 'material-item';
                    materialItem.innerHTML = `
                        <input type="text" placeholder="ææ–™åç¨±" name="materialName[]" value="${material.name}" style="flex: 2;">
                        <input type="number" placeholder="æ•¸é‡" name="materialQuantity[]" value="${material.quantity}" min="0" step="0.1" style="flex: 1;">
                        <input type="text" placeholder="å–®ä½" name="materialUnit[]" value="${material.unit}" style="flex: 1;">
                        <input type="text" placeholder="ä¾›æ‡‰å•†" name="materialSupplier[]" value="${material.supplier}" style="flex: 1.5;">
                        <button type="button" class="btn btn-danger" onclick="removeMaterialItem(this)" style="padding: 8px 12px; font-size: 12px;">åˆªé™¤</button>
                    `;
                    materialsList.appendChild(materialItem);
                });
            } else {
                addMaterialItem();
            }

            currentEditId = id;
            switchTab('daily');
            
            showAlert('âœï¸ è³‡æ–™è¼‰å…¥å®Œæˆï¼Œä¿®æ”¹å¾Œè«‹é»æ“Šå„²å­˜', 'info');
        }

        // åˆªé™¤è³‡æ–™
        async function deleteData(id) {
            if (!confirm('ç¢ºå®šè¦åˆªé™¤é€™ç­†æ–½å·¥è¨˜éŒ„å—ï¼Ÿ')) return;
            
            try {
                setSyncStatus('syncing');
                await db.collection('construction_records').doc(id).delete();
                showAlert('ğŸ—‘ï¸ æ–½å·¥è¨˜éŒ„å·²åˆªé™¤', 'success');
                setSyncStatus('online');
            } catch (error) {
                console.error('Delete error:', error);
                showAlert('åˆªé™¤å¤±æ•—ï¼', 'danger');
                setSyncStatus('offline');
            }
        }

        // æ›´æ–°çµ±è¨ˆè³‡æ–™
        function updateStats() {
            const totalRecords = constructionData.length;
            const totalWorkers = constructionData.reduce((sum, item) => sum + (item.totalWorkers || 0), 0);
            const avgWorkersPerDay = totalRecords > 0 ? Math.round(totalWorkers / totalRecords) : 0;
            const totalProjects = [...new Set(constructionData.map(item => item.projectName))].length;

            document.getElementById('totalRecords').textContent = totalRecords;
            document.getElementById('totalWorkers').textContent = totalWorkers;
            document.getElementById('avgWorkersPerDay').textContent = avgWorkersPerDay;
            document.getElementById('totalProjects').textContent = totalProjects;

            updateWorkItemStats();
            updateProjectStats();
        }

        // æ›´æ–°æ–½å·¥é …ç›®çµ±è¨ˆ
        function updateWorkItemStats() {
            const workItemStats = document.getElementById('workItemStats');
            
            if (constructionData.length === 0) {
                workItemStats.innerHTML = '<p style="text-align: center; color: #666;">æš«ç„¡æ–½å·¥æ•¸æ“š</p>';
                return;
            }

            const itemCounts = {};
            constructionData.forEach(item => {
                itemCounts[item.workItem] = (itemCounts[item.workItem] || 0) + 1;
            });

            const sortedItems = Object.entries(itemCounts)
                .sort(([,a], [,b]) => b - a)
                .map(([name, count]) => ({
                    name,
                    count,
                    percentage: Math.round((count / constructionData.length) * 100)
                }));

            workItemStats.innerHTML = sortedItems.map(item => `
                <div style="margin-bottom: 15px;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                        <span>${item.name}</span>
                        <span>${item.count} æ¬¡ (${item.percentage}%)</span>
                    </div>
                    <div style="background: #e0e0e0; height: 8px; border-radius: 4px;">
                        <div style="background: #4285F4; height: 8px; width: ${item.percentage}%; border-radius: 4px;"></div>
                    </div>
                </div>
            `).join('');
        }

        // æ›´æ–°å·¥ç¨‹å°ˆæ¡ˆçµ±è¨ˆ
        function updateProjectStats() {
            const projectStats = document.getElementById('projectStats');
            
            if (constructionData.length === 0) {
                projectStats.innerHTML = '<p style="text-align: center; color: #666;">æš«ç„¡å·¥ç¨‹æ•¸æ“š</p>';
                return;
            }

            const projectCounts = {};
            constructionData.forEach(item => {
                projectCounts[item.projectName] = (projectCounts[item.projectName] || 0) + 1;
            });

            const sortedProjects = Object.entries(projectCounts)
                .sort(([,a], [,b]) => b - a)
                .map(([name, count]) => ({
                    name,
                    count,
                    percentage: Math.round((count / constructionData.length) * 100)
                }));

            projectStats.innerHTML = sortedProjects.map(project => `
                <div style="margin-bottom: 15px;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                        <span>${project.name}</span>
                        <span>${project.count} æ¬¡ (${project.percentage}%)</span>
                    </div>
                    <div style="background: #e0e0e0; height: 8px; border-radius: 4px;">
                        <div style="background: #34A853; height: 8px; width: ${project.percentage}%; border-radius: 4px;"></div>
                    </div>
                </div>
            `).join('');
        }

        // åˆ‡æ›åˆ†é 
        function switchTab(tabName) {
            const tabs = document.querySelectorAll('.tab-content');
            tabs.forEach(tab => tab.classList.remove('active'));
            
            const tabButtons = document.querySelectorAll('.tab');
            tabButtons.forEach(btn => btn.classList.remove('active'));
            
            document.getElementById(tabName + '-tab').classList.add('active');
            event.target.classList.add('active');
            
            if (tabName === 'stats') {
                updateStats();
            }
        }

        // é¡¯ç¤º/éš±è—ç™»å…¥è¨»å†Šè¡¨å–®
        function showSignup() {
            document.getElementById('login-form').style.display = 'none';
            document.getElementById('signup-form').style.display = 'block';
        }

        function showLogin() {
            document.getElementById('signup-form').style.display = 'none';
            document.getElementById('login-form').style.display = 'block';
        }

        // é¡¯ç¤ºèªè­‰è¼‰å…¥ç‹€æ…‹
        function showAuthLoading(show) {
            document.getElementById('auth-loading').style.display = show ? 'block' : 'none';
            document.getElementById('login-form').style.display = show ? 'none' : 'block';
            document.getElementById('signup-form').style.display = 'none';
        }

        // é¡¯ç¤ºè³‡æ–™è¼‰å…¥ç‹€æ…‹
        function showDataLoading(show) {
            document.getElementById('data-loading').style.display = show ? 'block' : 'none';
        }

        // è¨­å®šåŒæ­¥ç‹€æ…‹
        function setSyncStatus(status) {
            const syncStatus = document.getElementById('syncStatus');
            if (syncStatus) {
                syncStatus.className = 'sync-indicator sync-' + status;
            }
        }

        // é¡¯ç¤º/éš±è—é€£ç·šç‹€æ…‹
        function showConnectionStatus() {
            const connectionStatus = document.getElementById('connectionStatus');
            connectionStatus.style.display = 'block';
            connectionStatus.className = 'connection-status connection-online';
        }

        function hideConnectionStatus() {
            const connectionStatus = document.getElementById('connectionStatus');
            connectionStatus.style.display = 'none';
        }

        // ç›£è½é€£ç·šç‹€æ…‹
        function monitorConnection() {
            setSyncStatus('online');
            showConnectionStatus();
        }

        // ææ–™ç®¡ç†å‡½æ•¸
        function addMaterialItem() {
            const materialsList = document.getElementById('materialsList');
            const materialItem = document.createElement('div');
            materialItem.className = 'material-item';
            materialItem.innerHTML = `
                <input type="text" placeholder="ææ–™åç¨±" name="materialName[]" style="flex: 2;">
                <input type="number" placeholder="æ•¸é‡" name="materialQuantity[]" min="0" step="0.1" style="flex: 1;">
                <input type="text" placeholder="å–®ä½" name="materialUnit[]" style="flex: 1;">
                <input type="text" placeholder="ä¾›æ‡‰å•†" name="materialSupplier[]" style="flex: 1.5;">
                <button type="button" class="btn btn-danger" onclick="removeMaterialItem(this)" style="padding: 8px 12px; font-size: 12px;">åˆªé™¤</button>
            `;
            materialsList.appendChild(materialItem);
        }

        function removeMaterialItem(button) {
            const materialsList = document.getElementById('materialsList');
            if (materialsList.children.length > 1) {
                button.parentElement.remove();
            } else {
                showAlert('è‡³å°‘éœ€è¦ä¿ç•™ä¸€å€‹ææ–™é …ç›®ï¼', 'danger');
            }
        }

        // æ¸…ç©ºè¡¨å–®
        function clearForm() {
            document.getElementById('constructionForm').reset();
            document.getElementById('date').value = new Date().toISOString().split('T')[0];
            currentEditId = null;
            
            // é‡ç½®ææ–™åˆ—è¡¨
            const materialsList = document.getElementById('materialsList');
            materialsList.innerHTML = `
                <div class="material-item">
                    <input type="text" placeholder="ææ–™åç¨±" name="materialName[]" style="flex: 2;">
                    <input type="number" placeholder="æ•¸é‡" name="materialQuantity[]" min="0" step="0.1" style="flex: 1;">
                    <input type="text" placeholder="å–®ä½" name="materialUnit[]" style="flex: 1;">
                    <input type="text" placeholder="ä¾›æ‡‰å•†" name="materialSupplier[]" style="flex: 1.5;">
                    <button type="button" class="btn btn-danger" onclick="removeMaterialItem(this)" style="padding: 8px 12px; font-size: 12px;">åˆªé™¤</button>
                </div>
            `;
        }

        // é¡¯ç¤ºæç¤ºè¨Šæ¯
        function showAlert(message, type) {
            const alertContainer = document.getElementById('alert-container');
            const alertDiv = document.createElement('div');
            alertDiv.className = `alert alert-${type}`;
            alertDiv.textContent = message;
            
            alertContainer.appendChild(alertDiv);
            alertDiv.style.display = 'block';
            
            setTimeout(() => {
                alertDiv.remove();
            }, 3000);
        }

        // æœå°‹å’Œç¯©é¸åŠŸèƒ½
        function searchData() {
            filterData();
        }

        function filterData() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const projectFilter = document.getElementById('projectFilter').value;
            const itemFilter = document.getElementById('itemFilter').value;
            const dateFilter = document.getElementById('dateFilter').value;
            
            let filteredData = constructionData;

            // æ–‡å­—æœå°‹
            if (searchTerm) {
                filteredData = filteredData.filter(item => 
                    item.projectName.toLowerCase().includes(searchTerm) ||
                    item.workItem.toLowerCase().includes(searchTerm) ||
                    (item.workDetail && item.workDetail.toLowerCase().includes(searchTerm)) ||
                    (item.supervisor && item.supervisor.toLowerCase().includes(searchTerm)) ||
                    (item.notes && item.notes.toLowerCase().includes(searchTerm))
                );
            }

            // å·¥ç¨‹ç¯©é¸
            if (projectFilter) {
                filteredData = filteredData.filter(item => item.projectName === projectFilter);
            }

            // é …ç›®ç¯©é¸
            if (itemFilter) {
                filteredData = filteredData.filter(item => item.workItem === itemFilter);
            }

            // æ—¥æœŸç¯©é¸
            if (dateFilter) {
                const today = new Date();
                const todayStr = today.toISOString().split('T')[0];
                
                filteredData = filteredData.filter(item => {
                    const itemDate = new Date(item.date);
                    
                    switch(dateFilter) {
                        case 'today':
                            return item.date === todayStr;
                        case 'week':
                            const weekAgo = new Date(today.getTime() - 7 * 24 * 60 * 60 * 1000);
                            return itemDate >= weekAgo && itemDate <= today;
                        case 'month':
                            return itemDate.getMonth() === today.getMonth() && 
                                   itemDate.getFullYear() === today.getFullYear();
                        default:
                            return true;
                    }
                });
            }

            // æ›´æ–°è¡¨æ ¼é¡¯ç¤º
            const tbody = document.getElementById('dataTableBody');
            tbody.innerHTML = filteredData.map((item, index) => `
                <tr>
                    <td>${index + 1}</td>
                    <td>${item.projectName}</td>
                    <td>${item.date}</td>
                    <td>${item.workItem}${item.workDetail ? '<br><small>' + item.workDetail + '</small>' : ''}</td>
                    <td>${item.completedQuantity} ${item.unit || ''}</td>
                    <td>${item.totalWorkers}äºº${item.overtimeHours ? '<br><small>åŠ ç­' + item.overtimeHours + 'h</small>' : ''}</td>
                    <td>${item.weather || '-'}</td>
                    <td>${item.supervisor || '-'}</td>
                    <td>${item.materials ? item.materials.length : 0}é …</td>
                    <td>${formatDate(item.createdAt)}</td>
                    <td>
                        <div class="action-buttons">
                            <button class="btn btn-secondary" onclick="viewDetails('${item.id}')">è©³æƒ…</button>
                            <button class="btn btn-warning" onclick="editData('${item.id}')">ç·¨è¼¯</button>
                            <button class="btn btn-danger" onclick="deleteData('${item.id}')">åˆªé™¤</button>
                        </div>
                    </td>
                </tr>
            `).join('');
        }

        function updateFilters() {
            // æ›´æ–°å·¥ç¨‹ç¯©é¸
            const projectFilter = document.getElementById('projectFilter');
            const projectNames = [...new Set(constructionData.map(item => item.projectName))];
            
            const currentProjectValue = projectFilter.value;
            projectFilter.innerHTML = '<option value="">å…¨éƒ¨å·¥ç¨‹</option>';
            
            projectNames.forEach(name => {
                const option = document.createElement('option');
                option.value = name;
                option.textContent = name;
                projectFilter.appendChild(option);
            });
            projectFilter.value = currentProjectValue;

            // æ›´æ–°é …ç›®ç¯©é¸
            const itemFilter = document.getElementById('itemFilter');
            const workItems = [...new Set(constructionData.map(item => item.workItem))];
            
            const currentItemValue = itemFilter.value;
            itemFilter.innerHTML = '<option value="">å…¨éƒ¨é …ç›®</option>';
            
            workItems.forEach(item => {
                const option = document.createElement('option');
                option.value = item;
                option.textContent = item;
                itemFilter.appendChild(option);
            });
            itemFilter.value = currentItemValue;
        }

        function exportToExcel() {
            if (constructionData.length === 0) {
                showAlert('æ²’æœ‰è³‡æ–™å¯ä»¥åŒ¯å‡ºï¼', 'danger');
                return;
            }

            const exportData = [];
            
            constructionData.forEach((item, index) => {
                const baseData = {
                    'ç·¨è™Ÿ': index + 1,
                    'å·¥ç¨‹åç¨±': item.projectName,
                    'å·¥ç¨‹åœ°é»': item.projectLocation || '',
                    'æ–½å·¥æ—¥æœŸ': item.date,
                    'å¤©æ°£ç‹€æ³': item.weather || '',
                    'ç›£å·¥äººå“¡': item.supervisor || '',
                    'æ–½å·¥ç­æ¬¡': item.shift || '',
                    'æ–½å·¥é …ç›®': item.workItem,
                    'æ–½å·¥ç´°é …': item.workDetail || '',
                    'å®Œæˆæ•¸é‡': item.completedQuantity,
                    'å–®ä½': item.unit || '',
                    'ç¸½å‡ºå·¥äººæ•¸': item.totalWorkers,
                    'æŠ€è¡“å·¥äººæ•¸': item.skilledWorkers || 0,
                    'æ™®å·¥äººæ•¸': item.laborWorkers || 0,
                    'åŠ ç­æ™‚æ•¸': item.overtimeHours || 0,
                    'ææ–™é …ç›®æ•¸': item.materials ? item.materials.length : 0,
                    'å‚™è¨»': item.notes || '',
                    'è¨˜éŒ„è€…': item.userName || '',
                    'è¨˜éŒ„æ™‚é–“': formatDate(item.createdAt)
                };

                exportData.push(baseData);

                // å¦‚æœæœ‰ææ–™è³‡æ–™ï¼Œå¦å¤–å»ºç«‹ææ–™æ˜ç´°è¡¨
                if (item.materials && item.materials.length > 0) {
                    item.materials.forEach(material => {
                        exportData.push({
                            'ç·¨è™Ÿ': `${index + 1}-ææ–™`,
                            'å·¥ç¨‹åç¨±': item.projectName,
                            'æ–½å·¥æ—¥æœŸ': item.date,
                            'ææ–™åç¨±': material.name,
                            'ææ–™æ•¸é‡': material.quantity,
                            'ææ–™å–®ä½': material.unit,
                            'ä¾›æ‡‰å•†': material.supplier || ''
                        });
                    });
                }
            });

            const wb = XLSX.utils.book_new();
            const ws = XLSX.utils.json_to_sheet(exportData);
            
            // è¨­å®šæ¬„ä½å¯¬åº¦
            const colWidths = [
                {wch: 8}, {wch: 20}, {wch: 15}, {wch: 12}, {wch: 10}, 
                {wch: 12}, {wch: 12}, {wch: 15}, {wch: 20}, {wch: 10}, 
                {wch: 8}, {wch: 10}, {wch: 10}, {wch: 10}, {wch: 10}, 
                {wch: 8}, {wch: 30}, {wch: 15}, {wch: 18}
            ];
            ws['!cols'] = colWidths;

            XLSX.utils.book_append_sheet(wb, ws, "æ–½å·¥è¨˜éŒ„");
            const fileName = `æ–½å·¥è¨˜éŒ„_${new Date().toISOString().split('T')[0]}.xlsx`;
            XLSX.writeFile(wb, fileName);
            
            showAlert('Excelæª”æ¡ˆå·²æˆåŠŸåŒ¯å‡ºï¼', 'success');
        }

        function clearAllData() {
            if (!confirm('ç¢ºå®šè¦æ¸…ç©ºæ‰€æœ‰è³‡æ–™å—ï¼Ÿæ­¤æ“ä½œç„¡æ³•å¾©åŸï¼')) return;
            
            showAlert('æ­¤åŠŸèƒ½å°‡åˆªé™¤é›²ç«¯æ‰€æœ‰è³‡æ–™ï¼Œè«‹è¬¹æ…ä½¿ç”¨ã€‚å¦‚éœ€æ¸…ç©ºï¼Œè«‹è¯ç¹«ç³»çµ±ç®¡ç†å“¡ã€‚', 'info');
        }
    </script>
</body>
</html><!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Firebaseå·¥åœ°ç®¡ç†ç³»çµ±</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    
    <!-- Firebase SDK v9 (èˆŠç‰ˆç›¸å®¹èªæ³•) -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft JhengHei', Arial, sans-serif;
            background: linear-gradient(135deg, #4285F4 0%, #34A853 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .auth-container {
            max-width: 400px;
            margin: 50px auto;
            background: white;
            border-radius: 15px;
            padding: 40px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
            text-align: center;
        }

        .auth-container h2 {
            color: #333;
            margin-bottom: 10px;
        }

        .auth-subtitle {
            color: #666;
            margin-bottom: 30px;
            font-size: 14px;
        }

        .firebase-badge {
            display: inline-block;
            background: linear-gradient(135deg, #FFA000 0%, #FF6F00 100%);
            color: white;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 12px;
            margin-bottom: 20px;
            font-weight: 600;
        }

        .form-group {
            margin-bottom: 20px;
            text-align: left;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
            font-size: 14px;
        }

        .form-group input, .form-group select, .form-group textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s ease;
            font-family: inherit;
        }

        .form-group input:focus, .form-group select:focus, .form-group textarea:focus {
            outline: none;
            border-color: #4285F4;
            box-shadow: 0 0 0 3px rgba(66, 133, 244, 0.1);
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 5px;
            position: relative;
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .btn-primary {
            background: linear-gradient(135deg, #4285F4 0%, #34A853 100%);
            color: white;
            width: 100%;
        }

        .btn-secondary {
            background: #f8f9fa;
            color: #666;
            border: 1px solid #e0e0e0;
            width: 100%;
        }

        .btn-success {
            background: linear-gradient(135deg, #34A853 0%, #137333 100%);
            color: white;
        }

        .btn-danger {
            background: linear-gradient(135deg, #EA4335 0%, #D33B2C 100%);
            color: white;
        }

        .btn-warning {
            background: linear-gradient(135deg, #FBBC04 0%, #F9AB00 100%);
            color: white;
        }

        .btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
            display: none;
        }

        .header {
            background: linear-gradient(135deg, #4285F4 0%, #34A853 100%);
            color: white;
            padding: 20px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header-left h1 {
            font-size: 24px;
            margin-bottom: 5px;
        }

        .header-left p {
            opacity: 0.9;
            font-size: 14px;
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .user-info {
            text-align: right;
        }

        .user-name {
            font-weight: 600;
            font-size: 14px;
        }

        .user-email {
            font-size: 12px;
            opacity: 0.8;
        }

        .btn-logout {
            background: rgba(255,255,255,0.2);
            color: white;
            border: 1px solid rgba(255,255,255,0.3);
            padding: 8px 16px;
            font-size: 12px;
        }

        .tabs {
            display: flex;
            background: #f8f9fa;
            border-bottom: 2px solid #e0e0e0;
        }

        .tab {
            flex: 1;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            background: #f8f9fa;
            border: none;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .tab.active {
            background: white;
            color: #4285F4;
            border-bottom: 3px solid #4285F4;
        }

        .tab-content {
            display: none;
            padding: 30px;
        }

        .tab-content.active {
            display: block;
        }

        .form-section {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 25px;
            border-left: 4px solid #4285F4;
        }

        .form-section h3 {
            color: #4285F4;
            margin-bottom: 20px;
            font-size: 16px;
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stats-card {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            text-align: center;
            border-left: 4px solid #4285F4;
        }

        .stats-number {
            font-size: 24px;
            font-weight: bold;
            color: #4285F4;
            margin-bottom: 8px;
        }

        .stats-label {
            color: #666;
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            font-size: 13px;
        }

        .data-table th,
        .data-table td {
            padding: 10px 8px;
            text-align: left;
            border-bottom: 1px solid #e0e0e0;
        }

        .data-table th {
            background: #f8f9fa;
            font-weight: 600;
            color: #333;
            position: sticky;
            top: 0;
            font-size: 12px;
        }

        .data-table tr:hover {
            background: #f8f9fa;
        }

        .table-container {
            overflow-x: auto;
            max-height: 500px;
            overflow-y: auto;
        }

        .search-filter-bar {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            align-items: center;
            flex-wrap: wrap;
        }

        .search-box, .filter-select {
            padding: 10px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 25px;
            font-size: 14px;
        }

        .search-box {
            min-width: 300px;
            flex: 1;
        }

        .filter-select {
            min-width: 120px;
        }

        .alert {
            padding: 12px 15px;
            border-radius: 8px;
            margin: 15px 0;
            display: none;
            font-size: 14px;
        }

        .alert-success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .alert-danger {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .alert-info {
            background: #cce7f0;
            color: #055160;
            border: 1px solid #b3d7e6;
        }

        .loading {
            text-align: center;
            padding: 40px;
            color: #666;
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid #4285F4;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .connection-status {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 10px 15px;
            border-radius: 25px;
            font-size: 12px;
            font-weight: 600;
            display: none;
        }

        .connection-online {
            background: #34A853;
            color: white;
        }

        .connection-offline {
            background: #EA4335;
            color: white;
        }

        .material-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 10px;
            border: 2px solid #e0e0e0;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .material-item input {
            border: 1px solid #ddd;
            padding: 8px;
            border-radius: 4px;
            margin: 0;
        }

        .action-buttons {
            display: flex;
            gap: 5px;
            flex-wrap: wrap;
        }

        .action-buttons .btn {
            padding: 6px 12px;
            font-size: 11px;
            margin: 2px;
        }

        .sync-indicator {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            margin-left: 10px;
        }

        .sync-online {
            background: #34A853;
            box-shadow: 0 0 5px #34A853;
        }

        .sync-syncing {
            background: #FBBC04;
            animation: pulse 1s infinite;
        }

        .sync-offline {
            background: #EA4335;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }

        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: #666;
        }

        @media (max-width: 768px) {
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .tabs {
                flex-direction: column;
            }
            
            .header {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }

            .search-filter-bar {
                flex-direction: column;
                align-items: stretch;
            }

            .search-box {
                min-width: auto;
            }
        }
    </style>
</head>
<body>
    <!-- ç™»å…¥ä»‹é¢ -->
    <div id="auth-container" class="auth-container">
        <div id="login-form">
            <h2>ğŸ—ï¸ Firebaseå·¥åœ°ç®¡ç†ç³»çµ±</h2>
            <div class="firebase-badge">ğŸ”¥ Firebaseé©…å‹•</div>
            <p class="auth-subtitle">é›²ç«¯åŒæ­¥ãƒ»å³æ™‚å”ä½œãƒ»å®‰å…¨å¯é </p>
            
            <form id="loginForm">
                <div class="form-group">
                    <label>é›»å­ä¿¡ç®±</label>
                    <input type="email" id="loginEmail" required placeholder="è«‹è¼¸å…¥é›»å­ä¿¡ç®±">
                </div>
                <div class="form-group">
                    <label>å¯†ç¢¼</label>
                    <input type="password" id="loginPassword" required placeholder="è«‹è¼¸å…¥å¯†ç¢¼">
                </div>
                <button type="submit" class="btn btn-primary" id="loginBtn">ç™»å…¥ç³»çµ±</button>
                <button type="button" class="btn btn-secondary" onclick="showSignup()">è¨»å†Šæ–°å¸³è™Ÿ</button>
            </form>
            
            <div style="margin-top: 20px; padding-top: 20px; border-top: 1px solid #eee; font-size: 12px; color: #999;">
                <p>ğŸ’¡ <strong>æ¸¬è©¦ç”¨å¸³è™Ÿ</strong></p>
                <p>ä¿¡ç®±: demo@test.com</p>
                <p>å¯†ç¢¼: 123456</p>
            </div>
        </div>

        <div id="signup-form" style="display: none;">
            <h2>è¨»å†Šæ–°å¸³è™Ÿ</h2>
            <div class="firebase-badge">ğŸ”¥ Firebaseé©…å‹•</div>
            <p class="auth-subtitle">å»ºç«‹æ‚¨çš„å·¥åœ°ç®¡ç†å¸³è™Ÿ</p>
            
            <form id="signupForm">
                <div class="form-group">
                    <label>å§“å</label>
                    <input type="text" id="signupName" required placeholder="è«‹è¼¸å…¥å§“å">
                </div>
                <div class="form-group">
                    <label>é›»å­ä¿¡ç®±</label>
                    <input type="email" id="signupEmail" required placeholder="è«‹è¼¸å…¥é›»å­ä¿¡ç®±">
                </div>
                <div class="form-group">
                    <label>å¯†ç¢¼</label>
                    <input type="password" id="signupPassword" required placeholder="è«‹è¼¸å…¥å¯†ç¢¼ï¼ˆè‡³å°‘6ä½ï¼‰">
                </div>
                <div class="form-group">
                    <label>é›»è©±è™Ÿç¢¼</label>
                    <input type="tel" id="signupPhone" placeholder="è«‹è¼¸å…¥é›»è©±è™Ÿç¢¼">
                </div>
                <button type="submit" class="btn btn-primary" id="signupBtn">è¨»å†Šå¸³è™Ÿ</button>
                <button type="button" class="btn btn-secondary" onclick="showLogin()">å·²æœ‰å¸³è™Ÿï¼Ÿç™»å…¥</button>
            </form>
        </div>

        <div id="auth-loading" class="loading" style="display: none;">
            <div class="spinner"></div>
            <p>è™•ç†ä¸­...</p>
        </div>
    </div>

    <!-- ä¸»è¦æ‡‰ç”¨ç¨‹å¼ä»‹é¢ -->
    <div class="container" id="main-app">
        <div class="header">
            <div class="header-left">
                <h1>ğŸ—ï¸ Firebaseå·¥åœ°ç®¡ç†ç³»çµ±</h1>
                <p>å³æ™‚åŒæ­¥ãƒ»é›²ç«¯å„²å­˜ãƒ»å¤šäººå”ä½œ<span class="sync-indicator sync-online" id="syncStatus"></span></p>
            </div>
            <div class="header-right">
                <div class="user-info">
                    <div class="user-name" id="userName"></div>
                    <div class="user-email" id="userEmail"></div>
                </div>
                <button class="btn btn-logout" onclick="logout()">ç™»å‡º</button>
            </div>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="switchTab('daily')">ğŸ“ æ¯æ—¥æ–½å·¥è¨˜éŒ„</button>
            <button class="tab" onclick="switchTab('manage')">ğŸ“‹ æ–½å·¥æ•¸æ“šç®¡ç†</button>
            <button class="tab" onclick="switchTab('stats')">ğŸ“ˆ é€²åº¦çµ±è¨ˆåˆ†æ</button>
        </div>

        <!-- æ¯æ—¥æ–½å·¥è¨˜éŒ„é é¢ -->
        <div id="daily-tab" class="tab-content active">
            <form id="constructionForm">
                <!-- åŸºæœ¬è³‡è¨Šå€åŸŸ -->
                <div class="form-section">
                    <h3>ğŸ—“ï¸ åŸºæœ¬è³‡è¨Š</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="projectName">å·¥ç¨‹åç¨± *</label>
                            <input type="text" id="projectName" name="projectName" placeholder="è«‹è¼¸å…¥å·¥ç¨‹åç¨±" required>
                        </div>
                        <div class="form-group">
                            <label for="date">æ–½å·¥æ—¥æœŸ *</label>
                            <input type="date" id="date" name="date" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="weather">å¤©æ°£ç‹€æ³</label>
                            <select id="weather" name="weather">
                                <option value="">è«‹é¸æ“‡å¤©æ°£</option>
                                <option value="æ™´å¤©">â˜€ï¸ æ™´å¤©</option>
                                <option value="å¤šé›²">â›… å¤šé›²</option>
                                <option value="é™°å¤©">â˜ï¸ é™°å¤©</option>
                                <option value="å°é›¨">ğŸŒ¦ï¸ å°é›¨</option>
                                <option value="å¤§é›¨">ğŸŒ§ï¸ å¤§é›¨</option>
                                <option value="é¢±é¢¨">ğŸŒ€ é¢±é¢¨</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="projectLocation">å·¥ç¨‹åœ°é»</label>
                            <input type="text" id="projectLocation" name="projectLocation" placeholder="è«‹è¼¸å…¥æ–½å·¥åœ°é»">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="supervisor">ç›£å·¥äººå“¡</label>
                            <input type="text" id="supervisor" name="supervisor" placeholder="è«‹è¼¸å…¥ç›£å·¥å§“å">
                        </div>
                        <div class="form-group">
                            <label for="shift">æ–½å·¥ç­æ¬¡</label>
                            <select id="shift" name="shift">
                                <option value="">è«‹é¸æ“‡ç­æ¬¡</option>
                                <option value="æ—¥ç­">ğŸŒ… æ—¥ç­ (08:00-17:00)</option>
                                <option value="å¤œç­">ğŸŒ™ å¤œç­ (20:00-05:00)</option>
                                <option value="å…¨æ—¥ç­">â° å…¨æ—¥ç­</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- æ–½å·¥é …ç›®å€åŸŸ -->
                <div class="form-section">
                    <h3>ğŸ”¨ æ–½å·¥é …ç›®èˆ‡é€²åº¦</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="workItem">æ–½å·¥é …ç›® *</label>
                            <select id="workItem" name="workItem" required>
                                <option value="">è«‹é¸æ“‡æ–½å·¥é …ç›®</option>
                                <option value="åŸºç¤å·¥ç¨‹">ğŸ—ï¸ åŸºç¤å·¥ç¨‹</option>
                                <option value="é‹¼ç­‹å·¥ç¨‹">ğŸ”— é‹¼ç­‹å·¥ç¨‹</option>
                                <option value="æ··å‡åœŸå·¥ç¨‹">ğŸ§± æ··å‡åœŸå·¥ç¨‹</option>
                                <option value="æ¨¡æ¿å·¥ç¨‹">ğŸ“ æ¨¡æ¿å·¥ç¨‹</option>
                                <option value="ç Œç£šå·¥ç¨‹">ğŸ§± ç Œç£šå·¥ç¨‹</option>
                                <option value="æ°´é›»å·¥ç¨‹">âš¡ æ°´é›»å·¥ç¨‹</option>
                                <option value="æ²¹æ¼†å·¥ç¨‹">ğŸ¨ æ²¹æ¼†å·¥ç¨‹</option>
                                <option value="è£ä¿®å·¥ç¨‹">ğŸ”§ è£ä¿®å·¥ç¨‹</option>
                                <option value="å…¶ä»–">â“ å…¶ä»–</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="workDetail">æ–½å·¥ç´°é …</label>
                            <input type="text" id="workDetail" name="workDetail" placeholder="ä¾‹å¦‚ï¼šä¸€æ¨“æŸ±å­æ¾†ç½®">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="completedQuantity">å®Œæˆæ•¸é‡ *</label>
                            <input type="number" id="completedQuantity" name="completedQuantity" min="0" step="0.1" placeholder="è«‹è¼¸å…¥å®Œæˆæ•¸é‡" required>
                        </div>
                        <div class="form-group">
                            <label for="unit">å–®ä½</label>
                            <select id="unit" name="unit">
                                <option value="">è«‹é¸æ“‡å–®ä½</option>
                                <option value="ç«‹æ–¹ç±³">ç«‹æ–¹ç±³ (mÂ³)</option>
                                <option value="å¹³æ–¹ç±³">å¹³æ–¹ç±³ (mÂ²)</option>
                                <option value="å…¬å°º">å…¬å°º (m)</option>
                                <option value="æ”¯">æ”¯</option>
                                <option value="çµ„">çµ„</option>
                                <option value="å¼">å¼</option>
                                <option value="æ‰¹">æ‰¹</option>
                                <option value="é …">é …</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- äººåŠ›é…ç½®å€åŸŸ -->
                <div class="form-section">
                    <h3>ğŸ‘· äººåŠ›é…ç½®</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="totalWorkers">ç¸½å‡ºå·¥äººæ•¸ *</label>
                            <input type="number" id="totalWorkers" name="totalWorkers" min="0" placeholder="è«‹è¼¸å…¥ç¸½äººæ•¸" required>
                        </div>
                        <div class="form-group">
                            <label for="skilledWorkers">æŠ€è¡“å·¥äººæ•¸</label>
                            <input type="number" id="skilledWorkers" name="skilledWorkers" min="0" placeholder="æŠ€è¡“å·¥äººæ•¸">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="laborWorkers">æ™®å·¥äººæ•¸</label>
                            <input type="number" id="laborWorkers" name="laborWorkers" min="0" placeholder="æ™®å·¥äººæ•¸">
                        </div>
                        <div class="form-group">
                            <label for="overtimeHours">åŠ ç­æ™‚æ•¸</label>
                            <input type="number" id="overtimeHours" name="overtimeHours" min="0" step="0.5" placeholder="åŠ ç­æ™‚æ•¸">
                        </div>
                    </div>
                </div>

                <!-- ææ–™é€²å ´å€åŸŸ -->
                <div class="form-section">
                    <h3>ğŸ“¦ ææ–™é€²å ´è¨˜éŒ„</h3>
                    <button type="button" class="btn btn-success" onclick="addMaterialItem()" style="margin-bottom: 15px;">+ æ–°å¢ææ–™</button>
                    <div id="materialsList">
                        <div class="material-item">
                            <input type="text" placeholder="ææ–™åç¨±" name="materialName[]" style="flex: 2;">
                            <input type="number" placeholder="æ•¸é‡" name="materialQuantity[]" min="0" step="0.1" style="flex: 1;">
                            <input type="text" placeholder="å–®ä½" name="materialUnit[]" style="flex: 1;">
                            <input type="text" placeholder="ä¾›æ‡‰å•†" name="materialSupplier[]" style="flex: 1.5;">
                            <button type="button" class="btn btn-danger" onclick="removeMaterialItem(this)" style="padding: 8px 12px; font-size: 12px;">åˆªé™¤</button>
                        </div>
                    </div>
                </div>

                <!-- å‚™è¨»å€åŸŸ -->
                <div class="form-section">
                    <h3>ğŸ“ å‚™è¨»èªªæ˜</h3>
                    <div class="form-group">
                        <label for="notes">æ–½å·¥å‚™è¨»</label>
                        <textarea id="notes" name="notes" rows="4" placeholder="è«‹è¼¸å…¥æ–½å·¥ç‹€æ³ã€å•é¡Œæˆ–ç‰¹æ®Šäº‹é …..."></textarea>
                    </div>
                </div>

                <div style="text-align: center; margin-top: 30px;">
                    <button type="button" class="btn btn-primary" onclick="saveConstructionRecord()" id="saveBtn">
                        ğŸ’¾ å„²å­˜è‡³é›²ç«¯
                    </button>
                    <button type="button" class="btn btn-secondary" onclick="clearForm()">ğŸ—‘ï¸ æ¸…ç©ºè¡¨å–®</button>
                </div>
            </form>

            <div id="alert-container"></div>
        </div>

        <!-- æ–½å·¥æ•¸æ“šç®¡ç†é é¢ -->
        <div id="manage-tab" class="tab-content">
            <div class="search-filter-bar">
                <input type="text" class="search-box" id="searchInput" placeholder="ğŸ” æœå°‹å·¥ç¨‹åç¨±ã€æ–½å·¥é …ç›®..." onkeyup="searchData()">
                <select class="filter-select" id="projectFilter" onchange="filterData()">
                    <option value="">å…¨éƒ¨å·¥ç¨‹</option>
                </select>
                <select class="filter-select" id="itemFilter" onchange="filterData()">
                    <option value="">å…¨éƒ¨é …ç›®</option>
                </select>
                <select class="filter-select" id="dateFilter" onchange="filterData()">
                    <option value="">å…¨éƒ¨æ—¥æœŸ</option>
                    <option value="today">ä»Šæ—¥</option>
                    <option value="week">æœ¬é€±</option>
                    <option value="month">æœ¬æœˆ</option>
                </select>
                <div>
                    <button class="btn btn-success" onclick="exportToExcel()">ğŸ“Š åŒ¯å‡ºExcel</button>
                    <button class="btn btn-danger" onclick="clearAllData()">ğŸ—‘ï¸ æ¸…ç©ºè³‡æ–™</button>
                </div>
            </div>

            <div class="table-container">
                <table class="data-table" id="dataTable">
                    <thead>
                        <tr>
                            <th>ç·¨è™Ÿ</th>
                            <th>å·¥ç¨‹åç¨±</th>
                            <th>æ—¥æœŸ</th>
                            <th>æ–½å·¥é …ç›®</th>
                            <th>å®Œæˆæ•¸é‡</th>
                            <th>å‡ºå·¥äººæ•¸</th>
                            <th>å¤©æ°£</th>
                            <th>ç›£å·¥</th>
                            <th>ææ–™é€²å ´</th>
                            <th>è¨˜éŒ„æ™‚é–“</th>
                            <th>æ“ä½œ</th>
                        </tr>
                    </thead>
                    <tbody id="dataTableBody">
                    </tbody>
                </table>
                
                <div id="emptyState" class="empty-state">
                    <div style="font-size: 48px;">ğŸ—ï¸</div>
                    <h3>å°šæœªæœ‰æ–½å·¥è¨˜éŒ„</h3>
                    <p>é»æ“Šã€Œæ¯æ—¥æ–½å·¥è¨˜éŒ„ã€é–‹å§‹è¨˜éŒ„ç¬¬ä¸€ç­†è³‡æ–™</p>
                    <p style="color: #4285F4; margin-top: 10px;">ğŸ”¥ è³‡æ–™å°‡å³æ™‚åŒæ­¥è‡³Firebaseé›²ç«¯</p>
                </div>
            </div>

            <div id="data-loading" class="loading" style="display: none;">
                <div class="spinner"></div>
                <p>å¾é›²ç«¯è¼‰å…¥è³‡æ–™ä¸­...</p>
            </div>
        </div>


	// åˆ‡æ›åˆ†é 
	function switchTab(tabName) {
    	const tabs = document.querySelectorAll('.tab-content');
    	tabs.forEach(tab => tab.classList.remove('active'));
    
    	const tabButtons = document.querySelectorAll('.tab');
    	tabButtons.forEach(btn => btn.classList.remove('active'));
    
    	document.getElementById(tabName + '-tab').classList.add('active');
    	event.target.classList.add('active');
    
    	if (tabName === 'stats') {
        updateStats();
    	}
	}

	// é¡¯ç¤º/éš±è—ç™»å…¥è¨»å†Šè¡¨å–®
	function showSignup() {
	    document.getElementById('login-form').style.display = 'none';
	    document.getElementById('signup-form').style.display = 'block';
	}

	function showLogin() {
	    document.getElementById('signup-form').style.display = 'none';
	    document.getElementById('login-form').style.display = 'block';
	}

	// é¡¯ç¤ºèªè­‰è¼‰å…¥ç‹€æ…‹
	function showAuthLoading(show) {
	    document.getElementById('auth-loading').style.display = show ? 'block' : 'none';
	    document.getElementById('login-form').style.display = show ? 'none' : 'block';
	    document.getElementById('signup-form').style.display = 'none';
	}

	// é¡¯ç¤ºè³‡æ–™è¼‰å…¥ç‹€æ…‹
	function showDataLoading(show) {
	    document.getElementById('data-loading').style.display = show ? 'block' : 'none';
	}

	// è¨­å®šåŒæ­¥ç‹€æ…‹
	function setSyncStatus(status) {
	    const syncStatus = document.getElementById('syncStatus');
	    syncStatus.className = 'sync-indicator sync-' + status;
	}

	// é¡¯ç¤º/éš±è—é€£ç·šç‹€æ…‹
	function showConnectionStatus() {
	    document.getElementById('connectionStatus').style.display = 'block';
	    document.getElementById('connectionStatus').className = 'connection-status connection-online';
	}

	function hideConnectionStatus() {
	    document.getElementById('connectionStatus').style.display = 'none';
	}

	// ç›£è½é€£ç·šç‹€æ…‹
	function monitorConnection() {
	    setSyncStatus('online');
	    showConnectionStatus();
	}

	// ææ–™ç®¡ç†å‡½æ•¸
	function addMaterialItem() {
	    const materialsList = document.getElementById('materialsList');
	    const materialItem = document.createElement('div');
	    materialItem.className = 'material-item';
	    materialItem.innerHTML = `
        	<input type="text" placeholder="ææ–™åç¨±" name="materialName[]" style="flex: 2;">
        	<input type="number" placeholder="æ•¸é‡" name="materialQuantity[]" min="0" step="0.1" style="flex: 1;">
        	<input type="text" placeholder="å–®ä½" name="materialUnit[]" style="flex: 1;">
        	<input type="text" placeholder="ä¾›æ‡‰å•†" name="materialSupplier[]" style="flex: 1.5;">
        	<button type="button" class="btn btn-danger" onclick="removeMaterialItem(this)" style="padding: 8px 12px; font-size: 12px;">åˆªé™¤</button>
	    `;
	    materialsList.appendChild(materialItem);
	}

	function removeMaterialItem(button) {
	    const materialsList = document.getElementById('materialsList');
	    if (materialsList.children.length > 1) {
	        button.parentElement.remove();
	    } else {
	        showAlert('è‡³å°‘éœ€è¦ä¿ç•™ä¸€å€‹ææ–™é …ç›®ï¼', 'danger');
	    }
	}

	// æ¸…ç©ºè¡¨å–®
	function clearForm() {
	    document.getElementById('constructionForm').reset();
	    document.getElementById('date').value = new Date().toISOString().split('T')[0];
	    currentEditId = null;
    
 	   // é‡ç½®ææ–™åˆ—è¡¨
 	   const materialsList = document.getElementById('materialsList');
	    materialsList.innerHTML = `
 	       <div class="material-item">
	            <input type="text" placeholder="ææ–™åç¨±" name="materialName[]" style="flex: 2;">
	            <input type="number" placeholder="æ•¸é‡" name="materialQuantity[]" min="0" step="0.1" style="flex: 1;">
	            <input type="text" placeholder="å–®ä½" name="materialUnit[]" style="flex: 1;">
	            <input type="text" placeholder="ä¾›æ‡‰å•†" name="materialSupplier[]" style="flex: 1.5;">
	            <button type="button" class="btn btn-danger" onclick="removeMaterialItem(this)" style="padding: 8px 12px; font-size: 12px;">åˆªé™¤</button>
	        </div>
	    `;
	}

	// é¡¯ç¤ºæç¤ºè¨Šæ¯
	function showAlert(message, type) {
	    const alertContainer = document.getElementById('alert-container');
	    const alertDiv = document.createElement('div');
	    alertDiv.className = `alert alert-${type}`;
	    alertDiv.textContent = message;
    
	    alertContainer.appendChild(alertDiv);
	    alertDiv.style.display = 'block';
    
	    setTimeout(() => {
	        alertDiv.remove();
	    }, 3000);
	}

	// æœå°‹å’Œç¯©é¸åŠŸèƒ½ï¼ˆæš«æ™‚ç”¨ç©ºå‡½æ•¸ï¼‰
	function searchData() {
	    // æœå°‹åŠŸèƒ½å¯¦ä½œ
	}

	function filterData() {
	    // ç¯©é¸åŠŸèƒ½å¯¦ä½œ
	}

	function updateFilters() {
 	   // æ›´æ–°ç¯©é¸é¸é …
	}

	function exportToExcel() {
	    showAlert('åŒ¯å‡ºåŠŸèƒ½é–‹ç™¼ä¸­...', 'info');
	}

	function clearAllData() {
	    if (confirm('ç¢ºå®šè¦æ¸…ç©ºæ‰€æœ‰è³‡æ–™å—ï¼Ÿ')) {
	        showAlert('æ¸…ç©ºåŠŸèƒ½é–‹ç™¼ä¸­...', 'info');
	    }
	}
